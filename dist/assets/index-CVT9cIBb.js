function vp(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function E0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var wp={exports:{}},Ho={},_p={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),T0=Symbol.for("react.portal"),C0=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),A0=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),D0=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),wd=Symbol.iterator;function M0(t){return t===null||typeof t!="object"?null:(t=wd&&t[wd]||t["@@iterator"],typeof t=="function"?t:null)}var xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sp=Object.assign,bp={};function zr(t,e,n){this.props=t,this.context=e,this.refs=bp,this.updater=n||xp}zr.prototype.isReactComponent={};zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kp(){}kp.prototype=zr.prototype;function Hu(t,e,n){this.props=t,this.context=e,this.refs=bp,this.updater=n||xp}var qu=Hu.prototype=new kp;qu.constructor=Hu;Sp(qu,zr.prototype);qu.isPureReactComponent=!0;var _d=Array.isArray,Ep=Object.prototype.hasOwnProperty,Ku={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Tp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ep.call(e,r)&&!Pp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ni,type:t,key:i,ref:o,props:s,_owner:Ku.current}}function U0(t,e){return{$$typeof:ni,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ni}function $0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xd=/\/+/g;function ba(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$0(""+t.key):e.toString(36)}function qi(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ni:case T0:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ba(o,0):r,_d(s)?(n="",t!=null&&(n=t.replace(xd,"$&/")+"/"),qi(s,e,n,"",function(u){return u})):s!=null&&(Gu(s)&&(s=U0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_d(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ba(i,a);o+=qi(i,e,n,l,s)}else if(l=M0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ba(i,a++),o+=qi(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gi(t,e,n){if(t==null)return t;var r=[],s=0;return qi(t,r,"","",function(i){return e.call(n,i,s++)}),r}function V0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},Ki={transition:null},B0={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:Ki,ReactCurrentOwner:Ku};function Cp(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:gi,forEach:function(t,e,n){gi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gi(t,function(){e++}),e},toArray:function(t){return gi(t,function(e){return e})||[]},only:function(t){if(!Gu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=zr;$.Fragment=C0;$.Profiler=R0;$.PureComponent=Hu;$.StrictMode=j0;$.Suspense=I0;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;$.act=Cp;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ku.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ep.call(e,l)&&!Pp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ni,type:t.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:A0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O0,_context:t},t.Consumer=t};$.createElement=Tp;$.createFactory=function(t){var e=Tp.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:N0,render:t}};$.isValidElement=Gu;$.lazy=function(t){return{$$typeof:L0,_payload:{_status:-1,_result:t},_init:V0}};$.memo=function(t,e){return{$$typeof:D0,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Ki.transition;Ki.transition={};try{t()}finally{Ki.transition=e}};$.unstable_act=Cp;$.useCallback=function(t,e){return Ie.current.useCallback(t,e)};$.useContext=function(t){return Ie.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};$.useEffect=function(t,e){return Ie.current.useEffect(t,e)};$.useId=function(){return Ie.current.useId()};$.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Ie.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};$.useRef=function(t){return Ie.current.useRef(t)};$.useState=function(t){return Ie.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Ie.current.useTransition()};$.version="18.3.1";_p.exports=$;var S=_p.exports;const qo=E0(S),F0=vp({__proto__:null,default:qo},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=S,W0=Symbol.for("react.element"),H0=Symbol.for("react.fragment"),q0=Object.prototype.hasOwnProperty,K0=z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G0={key:!0,ref:!0,__self:!0,__source:!0};function jp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)q0.call(e,r)&&!G0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W0,type:t,key:i,ref:o,props:s,_owner:K0.current}}Ho.Fragment=H0;Ho.jsx=jp;Ho.jsxs=jp;wp.exports=Ho;var v=wp.exports,xl={},Rp={exports:{}},Ye={},Op={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,L){var U=C.length;C.push(L);e:for(;0<U;){var M=U-1>>>1,K=C[M];if(0<s(K,L))C[M]=L,C[U]=K,U=M;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],U=C.pop();if(U!==L){C[0]=U;e:for(var M=0,K=C.length,_n=K>>>1;M<_n;){var wt=2*(M+1)-1,tr=C[wt],Fe=wt+1,xn=C[Fe];if(0>s(tr,U))Fe<K&&0>s(xn,tr)?(C[M]=xn,C[Fe]=U,M=Fe):(C[M]=tr,C[wt]=U,M=wt);else if(Fe<K&&0>s(xn,U))C[M]=xn,C[Fe]=U,M=Fe;else break e}}return L}function s(C,L){var U=C.sortIndex-L.sortIndex;return U!==0?U:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=C)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function x(C){if(w=!1,m(C),!y)if(n(l)!==null)y=!0,re(b);else{var L=n(u);L!==null&&Ze(x,L.startTime-C)}}function b(C,L){y=!1,w&&(w=!1,g(P),P=-1),f=!0;var U=h;try{for(m(L),d=n(l);d!==null&&(!(d.expirationTime>L)||C&&!fe());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var K=M(d.expirationTime<=L);L=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),m(L)}else r(l);d=n(l)}if(d!==null)var _n=!0;else{var wt=n(u);wt!==null&&Ze(x,wt.startTime-L),_n=!1}return _n}finally{d=null,h=U,f=!1}}var k=!1,E=null,P=-1,R=5,D=-1;function fe(){return!(t.unstable_now()-D<R)}function ye(){if(E!==null){var C=t.unstable_now();D=C;var L=!0;try{L=E(!0,C)}finally{L?Ce():(k=!1,E=null)}}else k=!1}var Ce;if(typeof p=="function")Ce=function(){p(ye)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ft=pe.port2;pe.port1.onmessage=ye,Ce=function(){Ft.postMessage(null)}}else Ce=function(){_(ye,0)};function re(C){E=C,k||(k=!0,Ce())}function Ze(C,L){P=_(function(){C(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,re(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return C()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=h;h=C;try{return L()}finally{h=U}},t.unstable_scheduleCallback=function(C,L,U){var M=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,C){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,C={id:c++,callback:L,priorityLevel:C,startTime:U,expirationTime:K,sortIndex:-1},U>M?(C.sortIndex=U,e(u,C),n(l)===null&&C===n(u)&&(w?(g(P),P=-1):w=!0,Ze(x,U-M))):(C.sortIndex=K,e(l,C),y||f||(y=!0,re(b))),C},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(C){var L=h;return function(){var U=h;h=L;try{return C.apply(this,arguments)}finally{h=U}}}})(Ap);Op.exports=Ap;var J0=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0=S,Je=J0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Np=new Set,Rs={};function Jn(t,e){Nr(t,e),Nr(t+"Capture",e)}function Nr(t,e){for(Rs[t]=e,t=0;t<e.length;t++)Np.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,Y0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sd={},bd={};function X0(t){return Sl.call(bd,t)?!0:Sl.call(Sd,t)?!1:Y0.test(t)?bd[t]=!0:(Sd[t]=!0,!1)}function Z0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ew(t,e,n,r){if(e===null||typeof e>"u"||Z0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ju=/[\-:]([a-z])/g;function Qu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ju,Qu);xe[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ju,Qu);xe[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ju,Qu);xe[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yu(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ew(e,n,s,r)&&(n=null),r||s===null?X0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bt=Q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yi=Symbol.for("react.element"),cr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),bl=Symbol.for("react.profiler"),Ip=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Lp=Symbol.for("react.offscreen"),kd=Symbol.iterator;function Qr(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,ka;function us(t){if(ka===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ka=e&&e[1]||""}return`
`+ka+t}var Ea=!1;function Pa(t,e){if(!t||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?us(t):""}function tw(t){switch(t.tag){case 5:return us(t.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return t=Pa(t.type,!1),t;case 11:return t=Pa(t.type.render,!1),t;case 1:return t=Pa(t.type,!0),t;default:return""}}function Pl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dr:return"Fragment";case cr:return"Portal";case bl:return"Profiler";case Xu:return"StrictMode";case kl:return"Suspense";case El:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dp:return(t.displayName||"Context")+".Consumer";case Ip:return(t._context.displayName||"Context")+".Provider";case Zu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ec:return e=t.displayName||null,e!==null?e:Pl(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return Pl(t(e))}catch{}}return null}function nw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pl(e);case 8:return e===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rw(t){var e=Mp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vi(t){t._valueTracker||(t._valueTracker=rw(t))}function Up(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ao(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tl(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ed(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $p(t,e){e=e.checked,e!=null&&Yu(t,"checked",e,!1)}function Cl(t,e){$p(t,e);var n=dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&jl(t,e.type,dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jl(t,e,n){(e!=="number"||ao(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cs=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Td(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(cs(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dn(n)}}function Vp(t,e){var n=dn(e.value),r=dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wi,Fp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sw=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){sw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function zp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function Wp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iw=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(t,e){if(e){if(iw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Nl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function tc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,Tr=null,Cr=null;function jd(t){if(t=ii(t)){if(typeof Dl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Yo(e),Dl(t.stateNode,t.type,e))}}function Hp(t){Tr?Cr?Cr.push(t):Cr=[t]:Tr=t}function qp(){if(Tr){var t=Tr,e=Cr;if(Cr=Tr=null,jd(t),e)for(t=0;t<e.length;t++)jd(e[t])}}function Kp(t,e){return t(e)}function Gp(){}var Ta=!1;function Jp(t,e,n){if(Ta)return t(e,n);Ta=!0;try{return Kp(t,e,n)}finally{Ta=!1,(Tr!==null||Cr!==null)&&(Gp(),qp())}}function As(t,e){var n=t.stateNode;if(n===null)return null;var r=Yo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Ll=!1;if(Lt)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Ll=!1}function ow(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gs=!1,lo=null,uo=!1,Ml=null,aw={onError:function(t){gs=!0,lo=t}};function lw(t,e,n,r,s,i,o,a,l){gs=!1,lo=null,ow.apply(aw,arguments)}function uw(t,e,n,r,s,i,o,a,l){if(lw.apply(this,arguments),gs){if(gs){var u=lo;gs=!1,lo=null}else throw Error(T(198));uo||(uo=!0,Ml=u)}}function Qn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rd(t){if(Qn(t)!==t)throw Error(T(188))}function cw(t){var e=t.alternate;if(!e){if(e=Qn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rd(s),t;if(i===r)return Rd(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Yp(t){return t=cw(t),t!==null?Xp(t):null}function Xp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xp(t);if(e!==null)return e;t=t.sibling}return null}var Zp=Je.unstable_scheduleCallback,Od=Je.unstable_cancelCallback,dw=Je.unstable_shouldYield,hw=Je.unstable_requestPaint,se=Je.unstable_now,fw=Je.unstable_getCurrentPriorityLevel,nc=Je.unstable_ImmediatePriority,em=Je.unstable_UserBlockingPriority,co=Je.unstable_NormalPriority,pw=Je.unstable_LowPriority,tm=Je.unstable_IdlePriority,Ko=null,bt=null;function mw(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ko,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:vw,gw=Math.log,yw=Math.LN2;function vw(t){return t>>>=0,t===0?32:31-(gw(t)/yw|0)|0}var _i=64,xi=4194304;function ds(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ho(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ds(a):(i&=o,i!==0&&(r=ds(i)))}else o=n&~s,o!==0?r=ds(o):i!==0&&(r=ds(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mt(e),s=1<<n,r|=t[n],e&=~s;return r}function ww(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _w(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-mt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ww(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nm(){var t=_i;return _i<<=1,!(_i&4194240)&&(_i=64),t}function Ca(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ri(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function xw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function rc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var B=0;function rm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sm,sc,im,om,am,$l=!1,Si=[],tn=null,nn=null,rn=null,Ns=new Map,Is=new Map,Jt=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(t,e){switch(t){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(e.pointerId)}}function Xr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ii(e),e!==null&&sc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bw(t,e,n,r,s){switch(e){case"focusin":return tn=Xr(tn,t,e,n,r,s),!0;case"dragenter":return nn=Xr(nn,t,e,n,r,s),!0;case"mouseover":return rn=Xr(rn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ns.set(i,Xr(Ns.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Is.set(i,Xr(Is.get(i)||null,t,e,n,r,s)),!0}return!1}function lm(t){var e=Dn(t.target);if(e!==null){var n=Qn(e);if(n!==null){if(e=n.tag,e===13){if(e=Qp(n),e!==null){t.blockedOn=e,am(t.priority,function(){im(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Il=r,n.target.dispatchEvent(r),Il=null}else return e=ii(n),e!==null&&sc(e),t.blockedOn=n,!1;e.shift()}return!0}function Nd(t,e,n){Gi(t)&&n.delete(e)}function kw(){$l=!1,tn!==null&&Gi(tn)&&(tn=null),nn!==null&&Gi(nn)&&(nn=null),rn!==null&&Gi(rn)&&(rn=null),Ns.forEach(Nd),Is.forEach(Nd)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,$l||($l=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,kw)))}function Ds(t){function e(s){return Zr(s,t)}if(0<Si.length){Zr(Si[0],t);for(var n=1;n<Si.length;n++){var r=Si[n];r.blockedOn===t&&(r.blockedOn=null)}}for(tn!==null&&Zr(tn,t),nn!==null&&Zr(nn,t),rn!==null&&Zr(rn,t),Ns.forEach(e),Is.forEach(e),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)lm(n),n.blockedOn===null&&Jt.shift()}var jr=Bt.ReactCurrentBatchConfig,fo=!0;function Ew(t,e,n,r){var s=B,i=jr.transition;jr.transition=null;try{B=1,ic(t,e,n,r)}finally{B=s,jr.transition=i}}function Pw(t,e,n,r){var s=B,i=jr.transition;jr.transition=null;try{B=4,ic(t,e,n,r)}finally{B=s,jr.transition=i}}function ic(t,e,n,r){if(fo){var s=Vl(t,e,n,r);if(s===null)Ua(t,e,r,po,n),Ad(t,r);else if(bw(s,t,e,n,r))r.stopPropagation();else if(Ad(t,r),e&4&&-1<Sw.indexOf(t)){for(;s!==null;){var i=ii(s);if(i!==null&&sm(i),i=Vl(t,e,n,r),i===null&&Ua(t,e,r,po,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ua(t,e,r,null,n)}}var po=null;function Vl(t,e,n,r){if(po=null,t=tc(r),t=Dn(t),t!==null)if(e=Qn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return po=t,null}function um(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fw()){case nc:return 1;case em:return 4;case co:case pw:return 16;case tm:return 536870912;default:return 16}default:return 16}}var Xt=null,oc=null,Ji=null;function cm(){if(Ji)return Ji;var t,e=oc,n=e.length,r,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ji=s.slice(t,1<r?1-r:void 0)}function Qi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Id(){return!1}function Xe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bi:Id,this.isPropagationStopped=Id,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),e}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=Xe(Wr),si=ee({},Wr,{view:0,detail:0}),Tw=Xe(si),ja,Ra,es,Go=ee({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(ja=t.screenX-es.screenX,Ra=t.screenY-es.screenY):Ra=ja=0,es=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Dd=Xe(Go),Cw=ee({},Go,{dataTransfer:0}),jw=Xe(Cw),Rw=ee({},si,{relatedTarget:0}),Oa=Xe(Rw),Ow=ee({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Aw=Xe(Ow),Nw=ee({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iw=Xe(Nw),Dw=ee({},Wr,{data:0}),Ld=Xe(Dw),Lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $w(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uw[t])?!!e[t]:!1}function lc(){return $w}var Vw=ee({},si,{key:function(t){if(t.key){var e=Lw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bw=Xe(Vw),Fw=ee({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=Xe(Fw),zw=ee({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),Ww=Xe(zw),Hw=ee({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=Xe(Hw),Kw=ee({},Go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gw=Xe(Kw),Jw=[9,13,27,32],uc=Lt&&"CompositionEvent"in window,ys=null;Lt&&"documentMode"in document&&(ys=document.documentMode);var Qw=Lt&&"TextEvent"in window&&!ys,dm=Lt&&(!uc||ys&&8<ys&&11>=ys),Ud=" ",$d=!1;function hm(t,e){switch(t){case"keyup":return Jw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hr=!1;function Yw(t,e){switch(t){case"compositionend":return fm(e);case"keypress":return e.which!==32?null:($d=!0,Ud);case"textInput":return t=e.data,t===Ud&&$d?null:t;default:return null}}function Xw(t,e){if(hr)return t==="compositionend"||!uc&&hm(t,e)?(t=cm(),Ji=oc=Xt=null,hr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dm&&e.locale!=="ko"?null:e.data;default:return null}}var Zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zw[t.type]:e==="textarea"}function pm(t,e,n,r){Hp(r),e=mo(e,"onChange"),0<e.length&&(n=new ac("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,Ls=null;function e_(t){Em(t,0)}function Jo(t){var e=mr(t);if(Up(e))return t}function t_(t,e){if(t==="change")return e}var mm=!1;if(Lt){var Aa;if(Lt){var Na="oninput"in document;if(!Na){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Na=typeof Bd.oninput=="function"}Aa=Na}else Aa=!1;mm=Aa&&(!document.documentMode||9<document.documentMode)}function Fd(){vs&&(vs.detachEvent("onpropertychange",gm),Ls=vs=null)}function gm(t){if(t.propertyName==="value"&&Jo(Ls)){var e=[];pm(e,Ls,t,tc(t)),Jp(e_,e)}}function n_(t,e,n){t==="focusin"?(Fd(),vs=e,Ls=n,vs.attachEvent("onpropertychange",gm)):t==="focusout"&&Fd()}function r_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(Ls)}function s_(t,e){if(t==="click")return Jo(e)}function i_(t,e){if(t==="input"||t==="change")return Jo(e)}function o_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:o_;function Ms(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sl.call(e,s)||!yt(t[s],e[s]))return!1}return!0}function zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wd(t,e){var n=zd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zd(n)}}function ym(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ym(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vm(){for(var t=window,e=ao();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ao(t.document)}return e}function cc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a_(t){var e=vm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ym(n.ownerDocument.documentElement,n)){if(r!==null&&cc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wd(n,i);var o=Wd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l_=Lt&&"documentMode"in document&&11>=document.documentMode,fr=null,Bl=null,ws=null,Fl=!1;function Hd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fl||fr==null||fr!==ao(r)||(r=fr,"selectionStart"in r&&cc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&Ms(ws,r)||(ws=r,r=mo(Bl,"onSelect"),0<r.length&&(e=new ac("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fr)))}function ki(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pr={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Ia={},wm={};Lt&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Qo(t){if(Ia[t])return Ia[t];if(!pr[t])return t;var e=pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wm)return Ia[t]=e[n];return t}var _m=Qo("animationend"),xm=Qo("animationiteration"),Sm=Qo("animationstart"),bm=Qo("transitionend"),km=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(t,e){km.set(t,e),Jn(e,[t])}for(var Da=0;Da<qd.length;Da++){var La=qd[Da],u_=La.toLowerCase(),c_=La[0].toUpperCase()+La.slice(1);mn(u_,"on"+c_)}mn(_m,"onAnimationEnd");mn(xm,"onAnimationIteration");mn(Sm,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(bm,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Kd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uw(r,e,void 0,t),t.currentTarget=null}function Em(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kd(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kd(s,a,u),i=l}}}if(uo)throw t=Ml,uo=!1,Ml=null,t}function H(t,e){var n=e[Kl];n===void 0&&(n=e[Kl]=new Set);var r=t+"__bubble";n.has(r)||(Pm(e,t,2,!1),n.add(r))}function Ma(t,e,n){var r=0;e&&(r|=4),Pm(n,t,r,e)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[Ei]){t[Ei]=!0,Np.forEach(function(n){n!=="selectionchange"&&(d_.has(n)||Ma(n,!1,t),Ma(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ei]||(e[Ei]=!0,Ma("selectionchange",!1,e))}}function Pm(t,e,n,r){switch(um(e)){case 1:var s=Ew;break;case 4:s=Pw;break;default:s=ic}n=s.bind(null,e,n,t),s=void 0,!Ll||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ua(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Jp(function(){var u=i,c=tc(n),d=[];e:{var h=km.get(t);if(h!==void 0){var f=ac,y=t;switch(t){case"keypress":if(Qi(n)===0)break e;case"keydown":case"keyup":f=Bw;break;case"focusin":y="focus",f=Oa;break;case"focusout":y="blur",f=Oa;break;case"beforeblur":case"afterblur":f=Oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ww;break;case _m:case xm:case Sm:f=Aw;break;case bm:f=qw;break;case"scroll":f=Tw;break;case"wheel":f=Gw;break;case"copy":case"cut":case"paste":f=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Md}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=As(p,g),x!=null&&w.push($s(p,x,m)))),_)break;p=p.return}0<w.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Il&&(y=n.relatedTarget||n.fromElement)&&(Dn(y)||y[Mt]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Dn(y):null,y!==null&&(_=Qn(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(w=Dd,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Md,x="onPointerLeave",g="onPointerEnter",p="pointer"),_=f==null?h:mr(f),m=y==null?h:mr(y),h=new w(x,p+"leave",f,n,c),h.target=_,h.relatedTarget=m,x=null,Dn(c)===u&&(w=new w(g,p+"enter",y,n,c),w.target=m,w.relatedTarget=_,x=w),_=x,f&&y)t:{for(w=f,g=y,p=0,m=w;m;m=nr(m))p++;for(m=0,x=g;x;x=nr(x))m++;for(;0<p-m;)w=nr(w),p--;for(;0<m-p;)g=nr(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=nr(w),g=nr(g)}w=null}else w=null;f!==null&&Gd(d,h,f,w,!1),y!==null&&_!==null&&Gd(d,_,y,w,!0)}}e:{if(h=u?mr(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=t_;else if(Vd(h))if(mm)b=i_;else{b=r_;var k=n_}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=s_);if(b&&(b=b(t,u))){pm(d,b,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&jl(h,"number",h.value)}switch(k=u?mr(u):window,t){case"focusin":(Vd(k)||k.contentEditable==="true")&&(fr=k,Bl=u,ws=null);break;case"focusout":ws=Bl=fr=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,Hd(d,n,c);break;case"selectionchange":if(l_)break;case"keydown":case"keyup":Hd(d,n,c)}var E;if(uc)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else hr?hm(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(dm&&n.locale!=="ko"&&(hr||P!=="onCompositionStart"?P==="onCompositionEnd"&&hr&&(E=cm()):(Xt=c,oc="value"in Xt?Xt.value:Xt.textContent,hr=!0)),k=mo(u,P),0<k.length&&(P=new Ld(P,t,null,n,c),d.push({event:P,listeners:k}),E?P.data=E:(E=fm(n),E!==null&&(P.data=E)))),(E=Qw?Yw(t,n):Xw(t,n))&&(u=mo(u,"onBeforeInput"),0<u.length&&(c=new Ld("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}Em(d,e)})}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=As(t,n),i!=null&&r.unshift($s(t,i,s)),i=As(t,e),i!=null&&r.push($s(t,i,s))),t=t.return}return r}function nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=As(n,i),l!=null&&o.unshift($s(n,l,a))):s||(l=As(n,i),l!=null&&o.push($s(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h_=/\r\n?/g,f_=/\u0000|\uFFFD/g;function Jd(t){return(typeof t=="string"?t:""+t).replace(h_,`
`).replace(f_,"")}function Pi(t,e,n){if(e=Jd(e),Jd(t)!==e&&n)throw Error(T(425))}function go(){}var zl=null,Wl=null;function Hl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,p_=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,m_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(t){return Qd.resolve(null).then(t).catch(g_)}:ql;function g_(t){setTimeout(function(){throw t})}function $a(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ds(e)}function sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),St="__reactFiber$"+Hr,Vs="__reactProps$"+Hr,Mt="__reactContainer$"+Hr,Kl="__reactEvents$"+Hr,y_="__reactListeners$"+Hr,v_="__reactHandles$"+Hr;function Dn(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yd(t);t!==null;){if(n=t[St])return n;t=Yd(t)}return e}t=n,n=t.parentNode}return null}function ii(t){return t=t[St]||t[Mt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Yo(t){return t[Vs]||null}var Gl=[],gr=-1;function gn(t){return{current:t}}function q(t){0>gr||(t.current=Gl[gr],Gl[gr]=null,gr--)}function z(t,e){gr++,Gl[gr]=t.current,t.current=e}var hn={},Te=gn(hn),Ue=gn(!1),Wn=hn;function Ir(t,e){var n=t.type.contextTypes;if(!n)return hn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function yo(){q(Ue),q(Te)}function Xd(t,e,n){if(Te.current!==hn)throw Error(T(168));z(Te,e),z(Ue,n)}function Tm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,nw(t)||"Unknown",s));return ee({},n,r)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hn,Wn=Te.current,z(Te,t),z(Ue,Ue.current),!0}function Zd(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Tm(t,e,Wn),r.__reactInternalMemoizedMergedChildContext=t,q(Ue),q(Te),z(Te,t)):q(Ue),z(Ue,n)}var jt=null,Xo=!1,Va=!1;function Cm(t){jt===null?jt=[t]:jt.push(t)}function w_(t){Xo=!0,Cm(t)}function yn(){if(!Va&&jt!==null){Va=!0;var t=0,e=B;try{var n=jt;for(B=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jt=null,Xo=!1}catch(s){throw jt!==null&&(jt=jt.slice(t+1)),Zp(nc,yn),s}finally{B=e,Va=!1}}return null}var yr=[],vr=0,wo=null,_o=0,nt=[],rt=0,Hn=null,Rt=1,Ot="";function Pn(t,e){yr[vr++]=_o,yr[vr++]=wo,wo=t,_o=e}function jm(t,e,n){nt[rt++]=Rt,nt[rt++]=Ot,nt[rt++]=Hn,Hn=t;var r=Rt;t=Ot;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-mt(e)+s|n<<s|r,Ot=i+t}else Rt=1<<i|n<<s|r,Ot=t}function dc(t){t.return!==null&&(Pn(t,1),jm(t,1,0))}function hc(t){for(;t===wo;)wo=yr[--vr],yr[vr]=null,_o=yr[--vr],yr[vr]=null;for(;t===Hn;)Hn=nt[--rt],nt[rt]=null,Ot=nt[--rt],nt[rt]=null,Rt=nt[--rt],nt[rt]=null}var Ge=null,Ke=null,G=!1,pt=null;function Rm(t,e){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=sn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hn!==null?{id:Rt,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ge=t,Ke=null,!0):!1;default:return!1}}function Jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ql(t){if(G){var e=Ke;if(e){var n=e;if(!eh(t,e)){if(Jl(t))throw Error(T(418));e=sn(n.nextSibling);var r=Ge;e&&eh(t,e)?Rm(r,n):(t.flags=t.flags&-4097|2,G=!1,Ge=t)}}else{if(Jl(t))throw Error(T(418));t.flags=t.flags&-4097|2,G=!1,Ge=t}}}function th(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function Ti(t){if(t!==Ge)return!1;if(!G)return th(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hl(t.type,t.memoizedProps)),e&&(e=Ke)){if(Jl(t))throw Om(),Error(T(418));for(;e;)Rm(t,e),e=sn(e.nextSibling)}if(th(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ke=sn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Ge?sn(t.stateNode.nextSibling):null;return!0}function Om(){for(var t=Ke;t;)t=sn(t.nextSibling)}function Dr(){Ke=Ge=null,G=!1}function fc(t){pt===null?pt=[t]:pt.push(t)}var __=Bt.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Ci(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nh(t){var e=t._init;return e(t._payload)}function Am(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=un(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,x){return p===null||p.tag!==6?(p=Ka(m,g.mode,x),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,x){var b=m.type;return b===dr?c(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qt&&nh(b)===p.type)?(x=s(p,m.props),x.ref=ts(g,p,m),x.return=g,x):(x=ro(m.type,m.key,m.props,null,g.mode,x),x.ref=ts(g,p,m),x.return=g,x)}function u(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ga(m,g.mode,x),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function c(g,p,m,x,b){return p===null||p.tag!==7?(p=Bn(m,g.mode,x,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function d(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ka(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case yi:return m=ro(p.type,p.key,p.props,null,g.mode,m),m.ref=ts(g,null,p),m.return=g,m;case cr:return p=Ga(p,g.mode,m),p.return=g,p;case qt:var x=p._init;return d(g,x(p._payload),m)}if(cs(p)||Qr(p))return p=Bn(p,g.mode,m,null),p.return=g,p;Ci(g,p)}return null}function h(g,p,m,x){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yi:return m.key===b?l(g,p,m,x):null;case cr:return m.key===b?u(g,p,m,x):null;case qt:return b=m._init,h(g,p,b(m._payload),x)}if(cs(m)||Qr(m))return b!==null?null:c(g,p,m,x,null);Ci(g,m)}return null}function f(g,p,m,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,a(p,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yi:return g=g.get(x.key===null?m:x.key)||null,l(p,g,x,b);case cr:return g=g.get(x.key===null?m:x.key)||null,u(p,g,x,b);case qt:var k=x._init;return f(g,p,m,k(x._payload),b)}if(cs(x)||Qr(x))return g=g.get(m)||null,c(p,g,x,b,null);Ci(p,x)}return null}function y(g,p,m,x){for(var b=null,k=null,E=p,P=p=0,R=null;E!==null&&P<m.length;P++){E.index>P?(R=E,E=null):R=E.sibling;var D=h(g,E,m[P],x);if(D===null){E===null&&(E=R);break}t&&E&&D.alternate===null&&e(g,E),p=i(D,p,P),k===null?b=D:k.sibling=D,k=D,E=R}if(P===m.length)return n(g,E),G&&Pn(g,P),b;if(E===null){for(;P<m.length;P++)E=d(g,m[P],x),E!==null&&(p=i(E,p,P),k===null?b=E:k.sibling=E,k=E);return G&&Pn(g,P),b}for(E=r(g,E);P<m.length;P++)R=f(E,g,P,m[P],x),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?P:R.key),p=i(R,p,P),k===null?b=R:k.sibling=R,k=R);return t&&E.forEach(function(fe){return e(g,fe)}),G&&Pn(g,P),b}function w(g,p,m,x){var b=Qr(m);if(typeof b!="function")throw Error(T(150));if(m=b.call(m),m==null)throw Error(T(151));for(var k=b=null,E=p,P=p=0,R=null,D=m.next();E!==null&&!D.done;P++,D=m.next()){E.index>P?(R=E,E=null):R=E.sibling;var fe=h(g,E,D.value,x);if(fe===null){E===null&&(E=R);break}t&&E&&fe.alternate===null&&e(g,E),p=i(fe,p,P),k===null?b=fe:k.sibling=fe,k=fe,E=R}if(D.done)return n(g,E),G&&Pn(g,P),b;if(E===null){for(;!D.done;P++,D=m.next())D=d(g,D.value,x),D!==null&&(p=i(D,p,P),k===null?b=D:k.sibling=D,k=D);return G&&Pn(g,P),b}for(E=r(g,E);!D.done;P++,D=m.next())D=f(E,g,P,D.value,x),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?P:D.key),p=i(D,p,P),k===null?b=D:k.sibling=D,k=D);return t&&E.forEach(function(ye){return e(g,ye)}),G&&Pn(g,P),b}function _(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===dr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case yi:e:{for(var b=m.key,k=p;k!==null;){if(k.key===b){if(b=m.type,b===dr){if(k.tag===7){n(g,k.sibling),p=s(k,m.props.children),p.return=g,g=p;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qt&&nh(b)===k.type){n(g,k.sibling),p=s(k,m.props),p.ref=ts(g,k,m),p.return=g,g=p;break e}n(g,k);break}else e(g,k);k=k.sibling}m.type===dr?(p=Bn(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=ro(m.type,m.key,m.props,null,g.mode,x),x.ref=ts(g,p,m),x.return=g,g=x)}return o(g);case cr:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Ga(m,g.mode,x),p.return=g,g=p}return o(g);case qt:return k=m._init,_(g,p,k(m._payload),x)}if(cs(m))return y(g,p,m,x);if(Qr(m))return w(g,p,m,x);Ci(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=Ka(m,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return _}var Lr=Am(!0),Nm=Am(!1),xo=gn(null),So=null,wr=null,pc=null;function mc(){pc=wr=So=null}function gc(t){var e=xo.current;q(xo),t._currentValue=e}function Yl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e){So=t,pc=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Me=!0),t.firstContext=null)}function ot(t){var e=t._currentValue;if(pc!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(So===null)throw Error(T(308));wr=t,So.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Ln=null;function yc(t){Ln===null?Ln=[t]:Ln.push(t)}function Im(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ut(t,r)}function Ut(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function on(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ut(t,n)}return s=r.interleaved,s===null?(e.next=e,yc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ut(t,n)}function Yi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rc(t,n)}}function rh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bo(t,e,n,r){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,f=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=ee({},d,h);break e;case 2:Kt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kn|=o,t.lanes=o,t.memoizedState=d}}function sh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var oi={},kt=gn(oi),Bs=gn(oi),Fs=gn(oi);function Mn(t){if(t===oi)throw Error(T(174));return t}function wc(t,e){switch(z(Fs,e),z(Bs,t),z(kt,oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ol(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ol(e,t)}q(kt),z(kt,e)}function Mr(){q(kt),q(Bs),q(Fs)}function Lm(t){Mn(Fs.current);var e=Mn(kt.current),n=Ol(e,t.type);e!==n&&(z(Bs,t),z(kt,n))}function _c(t){Bs.current===t&&(q(kt),q(Bs))}var Y=gn(0);function ko(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ba=[];function xc(){for(var t=0;t<Ba.length;t++)Ba[t]._workInProgressVersionPrimary=null;Ba.length=0}var Xi=Bt.ReactCurrentDispatcher,Fa=Bt.ReactCurrentBatchConfig,qn=0,Z=null,de=null,me=null,Eo=!1,_s=!1,zs=0,x_=0;function Se(){throw Error(T(321))}function Sc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function bc(t,e,n,r,s,i){if(qn=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xi.current=t===null||t.memoizedState===null?E_:P_,t=n(r,s),_s){i=0;do{if(_s=!1,zs=0,25<=i)throw Error(T(301));i+=1,me=de=null,e.updateQueue=null,Xi.current=T_,t=n(r,s)}while(_s)}if(Xi.current=Po,e=de!==null&&de.next!==null,qn=0,me=de=Z=null,Eo=!1,e)throw Error(T(300));return t}function kc(){var t=zs!==0;return zs=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Z.memoizedState=me=t:me=me.next=t,me}function at(){if(de===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=me===null?Z.memoizedState:me.next;if(e!==null)me=e,de=t;else{if(t===null)throw Error(T(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?Z.memoizedState=me=t:me=me.next=t}return me}function Ws(t,e){return typeof e=="function"?e(t):e}function za(t){var e=at(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((qn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Z.lanes|=c,Kn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,yt(r,e.memoizedState)||(Me=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,Kn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wa(t){var e=at(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yt(i,e.memoizedState)||(Me=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Mm(){}function Um(t,e){var n=Z,r=at(),s=e(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Me=!0),r=r.queue,Ec(Bm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Hs(9,Vm.bind(null,n,r,s,e),void 0,null),ge===null)throw Error(T(349));qn&30||$m(n,e,s)}return s}function $m(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vm(t,e,n,r){e.value=n,e.getSnapshot=r,Fm(e)&&zm(t)}function Bm(t,e,n){return n(function(){Fm(e)&&zm(t)})}function Fm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function zm(t){var e=Ut(t,1);e!==null&&gt(e,t,1,-1)}function ih(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=k_.bind(null,Z,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wm(){return at().memoizedState}function Zi(t,e,n,r){var s=xt();Z.flags|=t,s.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function Zo(t,e,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,r!==null&&Sc(r,o.deps)){s.memoizedState=Hs(e,n,i,r);return}}Z.flags|=t,s.memoizedState=Hs(1|e,n,i,r)}function oh(t,e){return Zi(8390656,8,t,e)}function Ec(t,e){return Zo(2048,8,t,e)}function Hm(t,e){return Zo(4,2,t,e)}function qm(t,e){return Zo(4,4,t,e)}function Km(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gm(t,e,n){return n=n!=null?n.concat([t]):null,Zo(4,4,Km.bind(null,e,t),n)}function Pc(){}function Jm(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qm(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ym(t,e,n){return qn&21?(yt(n,e)||(n=nm(),Z.lanes|=n,Kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Me=!0),t.memoizedState=n)}function S_(t,e){var n=B;B=n!==0&&4>n?n:4,t(!0);var r=Fa.transition;Fa.transition={};try{t(!1),e()}finally{B=n,Fa.transition=r}}function Xm(){return at().memoizedState}function b_(t,e,n){var r=ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zm(t))eg(e,n);else if(n=Im(t,e,n,r),n!==null){var s=Ne();gt(n,t,r,s),tg(n,e,r)}}function k_(t,e,n){var r=ln(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zm(t))eg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yt(a,o)){var l=e.interleaved;l===null?(s.next=s,yc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Im(t,e,s,r),n!==null&&(s=Ne(),gt(n,t,r,s),tg(n,e,r))}}function Zm(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function eg(t,e){_s=Eo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rc(t,n)}}var Po={readContext:ot,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},E_={readContext:ot,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:oh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zi(4194308,4,Km.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zi(4,2,t,e)},useMemo:function(t,e){var n=xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b_.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:ih,useDebugValue:Pc,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=ih(!1),e=t[0];return t=S_.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=xt();if(G){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ge===null)throw Error(T(349));qn&30||$m(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,oh(Bm.bind(null,r,i,t),[t]),r.flags|=2048,Hs(9,Vm.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xt(),e=ge.identifierPrefix;if(G){var n=Ot,r=Rt;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P_={readContext:ot,useCallback:Jm,useContext:ot,useEffect:Ec,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:qm,useMemo:Qm,useReducer:za,useRef:Wm,useState:function(){return za(Ws)},useDebugValue:Pc,useDeferredValue:function(t){var e=at();return Ym(e,de.memoizedState,t)},useTransition:function(){var t=za(Ws)[0],e=at().memoizedState;return[t,e]},useMutableSource:Mm,useSyncExternalStore:Um,useId:Xm,unstable_isNewReconciler:!1},T_={readContext:ot,useCallback:Jm,useContext:ot,useEffect:Ec,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:qm,useMemo:Qm,useReducer:Wa,useRef:Wm,useState:function(){return Wa(Ws)},useDebugValue:Pc,useDeferredValue:function(t){var e=at();return de===null?e.memoizedState=t:Ym(e,de.memoizedState,t)},useTransition:function(){var t=Wa(Ws)[0],e=at().memoizedState;return[t,e]},useMutableSource:Mm,useSyncExternalStore:Um,useId:Xm,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ea={isMounted:function(t){return(t=t._reactInternals)?Qn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=ln(t),i=Nt(r,s);i.payload=e,n!=null&&(i.callback=n),e=on(t,i,s),e!==null&&(gt(e,t,s,r),Yi(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=ln(t),i=Nt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=on(t,i,s),e!==null&&(gt(e,t,s,r),Yi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),r=ln(t),s=Nt(n,r);s.tag=2,e!=null&&(s.callback=e),e=on(t,s,r),e!==null&&(gt(e,t,r,n),Yi(e,t,r))}};function ah(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ms(n,r)||!Ms(s,i):!0}function ng(t,e,n){var r=!1,s=hn,i=e.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=$e(e)?Wn:Te.current,r=e.contextTypes,i=(r=r!=null)?Ir(t,s):hn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ea,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ea.enqueueReplaceState(e,e.state,null)}function Zl(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=$e(e)?Wn:Te.current,s.context=Ir(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ea.enqueueReplaceState(s,s.state,null),bo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ur(t,e){try{var n="",r=e;do n+=tw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ha(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C_=typeof WeakMap=="function"?WeakMap:Map;function rg(t,e,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Co||(Co=!0,cu=r),eu(t,e)},n}function sg(t,e,n){n=Nt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){eu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){eu(t,e),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new C_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=F_.bind(null,t,e,n),e.then(t,t))}function ch(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nt(-1,1),e.tag=2,on(n,e,1))),n.lanes|=1),t)}var j_=Bt.ReactCurrentOwner,Me=!1;function Re(t,e,n,r){e.child=t===null?Nm(e,null,n,r):Lr(e,t.child,n,r)}function hh(t,e,n,r,s){n=n.render;var i=e.ref;return Rr(e,s),r=bc(t,e,n,r,i,s),n=kc(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(G&&n&&dc(e),e.flags|=1,Re(t,e,r,s),e.child)}function fh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ic(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ig(t,e,i,r,s)):(t=ro(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(o,r)&&t.ref===e.ref)return $t(t,e,s)}return e.flags|=1,t=un(i,r),t.ref=e.ref,t.return=e,e.child=t}function ig(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ms(i,r)&&t.ref===e.ref)if(Me=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Me=!0);else return e.lanes=t.lanes,$t(t,e,s)}return tu(t,e,n,r,s)}function og(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(xr,We),We|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(xr,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(xr,We),We|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(xr,We),We|=r;return Re(t,e,s,n),e.child}function ag(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tu(t,e,n,r,s){var i=$e(n)?Wn:Te.current;return i=Ir(e,i),Rr(e,s),n=bc(t,e,n,r,i,s),r=kc(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$t(t,e,s)):(G&&r&&dc(e),e.flags|=1,Re(t,e,n,s),e.child)}function ph(t,e,n,r,s){if($e(n)){var i=!0;vo(e)}else i=!1;if(Rr(e,s),e.stateNode===null)eo(t,e),ng(e,n,r),Zl(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=$e(n)?Wn:Te.current,u=Ir(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lh(e,o,r,u),Kt=!1;var h=e.memoizedState;o.state=h,bo(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ue.current||Kt?(typeof c=="function"&&(Xl(e,n,c,r),l=e.memoizedState),(a=Kt||ah(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Dm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ct(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=$e(n)?Wn:Te.current,l=Ir(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&lh(e,o,r,l),Kt=!1,h=e.memoizedState,o.state=h,bo(e,r,o,s);var y=e.memoizedState;a!==d||h!==y||Ue.current||Kt?(typeof f=="function"&&(Xl(e,n,f,r),y=e.memoizedState),(u=Kt||ah(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nu(t,e,n,r,i,s)}function nu(t,e,n,r,s,i){ag(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zd(e,n,!1),$t(t,e,i);r=e.stateNode,j_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Lr(e,t.child,null,i),e.child=Lr(e,null,a,i)):Re(t,e,a,i),e.memoizedState=r.state,s&&Zd(e,n,!0),e.child}function lg(t){var e=t.stateNode;e.pendingContext?Xd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xd(t,e.context,!1),wc(t,e.containerInfo)}function mh(t,e,n,r,s){return Dr(),fc(s),e.flags|=256,Re(t,e,n,r),e.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function su(t){return{baseLanes:t,cachePool:null,transitions:null}}function ug(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(Y,s&1),t===null)return Ql(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ra(o,r,0,null),t=Bn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=su(n),e.memoizedState=ru,t):Tc(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return R_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=un(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=un(a,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?su(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ru,r}return i=t.child,t=i.sibling,r=un(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tc(t,e){return e=ra({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ji(t,e,n,r){return r!==null&&fc(r),Lr(e,t.child,null,n),t=Tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ha(Error(T(422))),ji(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ra({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lr(e,t.child,null,o),e.child.memoizedState=su(o),e.memoizedState=ru,i);if(!(e.mode&1))return ji(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=Ha(i,r,void 0),ji(t,e,o,r)}if(a=(o&t.childLanes)!==0,Me||a){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(t,s),gt(r,t,s,-1))}return Nc(),r=Ha(Error(T(421))),ji(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ke=sn(s.nextSibling),Ge=e,G=!0,pt=null,t!==null&&(nt[rt++]=Rt,nt[rt++]=Ot,nt[rt++]=Hn,Rt=t.id,Ot=t.overflow,Hn=e),e=Tc(e,r.children),e.flags|=4096,e)}function gh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yl(t.return,e,n)}function qa(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Re(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gh(t,n,e);else if(t.tag===19)gh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ko(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qa(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ko(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qa(e,!0,n,null,i);break;case"together":qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O_(t,e,n){switch(e.tag){case 3:lg(e),Dr();break;case 5:Lm(e);break;case 1:$e(e.type)&&vo(e);break;case 4:wc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(xo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?ug(t,e,n):(z(Y,Y.current&1),t=$t(t,e,n),t!==null?t.sibling:null);z(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,og(t,e,n)}return $t(t,e,n)}var dg,iu,hg,fg;dg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iu=function(){};hg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mn(kt.current);var i=null;switch(n){case"input":s=Tl(t,s),r=Tl(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Rl(t,s),r=Rl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=go)}Al(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};fg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ns(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function A_(t,e,n){var r=e.pendingProps;switch(hc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return $e(e.type)&&yo(),be(e),null;case 3:return r=e.stateNode,Mr(),q(Ue),q(Te),xc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ti(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(fu(pt),pt=null))),iu(t,e),be(e),null;case 5:_c(e);var s=Mn(Fs.current);if(n=e.type,t!==null&&e.stateNode!=null)hg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return be(e),null}if(t=Mn(kt.current),Ti(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[St]=e,r[Vs]=i,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<hs.length;s++)H(hs[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ed(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":Td(r,i),H("invalid",r)}Al(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Pi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Pi(r.textContent,a,t),s=["children",""+a]):Rs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":vi(r),Pd(r,i,!0);break;case"textarea":vi(r),Cd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=go)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[St]=e,t[Vs]=r,dg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nl(n,r),n){case"dialog":H("cancel",t),H("close",t),s=r;break;case"iframe":case"object":case"embed":H("load",t),s=r;break;case"video":case"audio":for(s=0;s<hs.length;s++)H(hs[s],t);s=r;break;case"source":H("error",t),s=r;break;case"img":case"image":case"link":H("error",t),H("load",t),s=r;break;case"details":H("toggle",t),s=r;break;case"input":Ed(t,r),s=Tl(t,r),H("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),H("invalid",t);break;case"textarea":Td(t,r),s=Rl(t,r),H("invalid",t);break;default:s=r}Al(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wp(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fp(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(t,l):typeof l=="number"&&Os(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",t):l!=null&&Yu(t,i,l,o))}switch(n){case"input":vi(t),Pd(t,r,!1);break;case"textarea":vi(t),Cd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)fg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Mn(Fs.current),Mn(kt.current),Ti(e)){if(r=e.stateNode,n=e.memoizedProps,r[St]=e,(i=r.nodeValue!==n)&&(t=Ge,t!==null))switch(t.tag){case 3:Pi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=e,e.stateNode=r}return be(e),null;case 13:if(q(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Ke!==null&&e.mode&1&&!(e.flags&128))Om(),Dr(),e.flags|=98560,i=!1;else if(i=Ti(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[St]=e}else Dr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else pt!==null&&(fu(pt),pt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?he===0&&(he=3):Nc())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Mr(),iu(t,e),t===null&&Us(e.stateNode.containerInfo),be(e),null;case 10:return gc(e.type._context),be(e),null;case 17:return $e(e.type)&&yo(),be(e),null;case 19:if(q(Y),i=e.memoizedState,i===null)return be(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ns(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ko(t),o!==null){for(e.flags|=128,ns(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>$r&&(e.flags|=128,r=!0,ns(i,!1),e.lanes=4194304)}else{if(!r)if(t=ko(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return be(e),null}else 2*se()-i.renderingStartTime>$r&&n!==1073741824&&(e.flags|=128,r=!0,ns(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,n=Y.current,z(Y,r?n&1|2:n&1),e):(be(e),null);case 22:case 23:return Ac(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function N_(t,e){switch(hc(e),e.tag){case 1:return $e(e.type)&&yo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mr(),q(Ue),q(Te),xc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _c(e),null;case 13:if(q(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Dr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(Y),null;case 4:return Mr(),null;case 10:return gc(e.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var Ri=!1,Ee=!1,I_=typeof WeakSet=="function"?WeakSet:Set,j=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function ou(t,e,n){try{n()}catch(r){te(t,e,r)}}var yh=!1;function D_(t,e){if(zl=fo,t=vm(),cc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:t,selectionRange:n},fo=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:ct(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){te(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return y=yh,yh=!1,y}function xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ou(e,n,i)}s=s.next}while(s!==r)}}function ta(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function au(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pg(t){var e=t.alternate;e!==null&&(t.alternate=null,pg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[Vs],delete e[Kl],delete e[y_],delete e[v_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mg(t){return t.tag===5||t.tag===3||t.tag===4}function vh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=go));else if(r!==4&&(t=t.child,t!==null))for(lu(t,e,n),t=t.sibling;t!==null;)lu(t,e,n),t=t.sibling}function uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}var we=null,ht=!1;function zt(t,e,n){for(n=n.child;n!==null;)gg(t,e,n),n=n.sibling}function gg(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ko,n)}catch{}switch(n.tag){case 5:Ee||_r(n,e);case 6:var r=we,s=ht;we=null,zt(t,e,n),we=r,ht=s,we!==null&&(ht?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ht?(t=we,n=n.stateNode,t.nodeType===8?$a(t.parentNode,n):t.nodeType===1&&$a(t,n),Ds(t)):$a(we,n.stateNode));break;case 4:r=we,s=ht,we=n.stateNode.containerInfo,ht=!0,zt(t,e,n),we=r,ht=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ou(n,e,o),s=s.next}while(s!==r)}zt(t,e,n);break;case 1:if(!Ee&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,e,a)}zt(t,e,n);break;case 21:zt(t,e,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,zt(t,e,n),Ee=r):zt(t,e,n);break;default:zt(t,e,n)}}function wh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I_),e.forEach(function(r){var s=W_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ht=!1;break e;case 3:we=a.stateNode.containerInfo,ht=!0;break e;case 4:we=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(we===null)throw Error(T(160));gg(i,o,s),we=null,ht=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yg(e,t),e=e.sibling}function yg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lt(e,t),_t(t),r&4){try{xs(3,t,t.return),ta(3,t)}catch(w){te(t,t.return,w)}try{xs(5,t,t.return)}catch(w){te(t,t.return,w)}}break;case 1:lt(e,t),_t(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(lt(e,t),_t(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var s=t.stateNode;try{Os(s,"")}catch(w){te(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$p(s,i),Nl(a,o);var u=Nl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Wp(s,d):c==="dangerouslySetInnerHTML"?Fp(s,d):c==="children"?Os(s,d):Yu(s,c,d,u)}switch(a){case"input":Cl(s,i);break;case"textarea":Vp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Pr(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vs]=i}catch(w){te(t,t.return,w)}}break;case 6:if(lt(e,t),_t(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){te(t,t.return,w)}}break;case 3:if(lt(e,t),_t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ds(e.containerInfo)}catch(w){te(t,t.return,w)}break;case 4:lt(e,t),_t(t);break;case 13:lt(e,t),_t(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rc=se())),r&4&&wh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ee=(u=Ee)||c,lt(e,t),Ee=u):lt(e,t),_t(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:xs(4,h,h.return);break;case 1:_r(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){te(r,n,w)}}break;case 5:_r(h,h.return);break;case 22:if(h.memoizedState!==null){xh(d);continue}}f!==null?(f.return=h,j=f):xh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zp("display",o))}catch(w){te(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){te(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(e,t),_t(t),r&4&&wh(t);break;case 21:break;default:lt(e,t),_t(t)}}function _t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mg(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Os(s,""),r.flags&=-33);var i=vh(t);uu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vh(t);lu(t,a,o);break;default:throw Error(T(161))}}catch(l){te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L_(t,e,n){j=t,vg(t)}function vg(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ri;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ee;a=Ri;var u=Ee;if(Ri=o,(Ee=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Sh(s):l!==null?(l.return=o,j=l):Sh(s);for(;i!==null;)j=i,vg(i),i=i.sibling;j=s,Ri=a,Ee=u}_h(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):_h(t)}}function _h(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||ta(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ct(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ds(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ee||e.flags&512&&au(e)}catch(h){te(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function xh(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Sh(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ta(4,e)}catch(l){te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){te(e,s,l)}}var i=e.return;try{au(e)}catch(l){te(e,i,l)}break;case 5:var o=e.return;try{au(e)}catch(l){te(e,o,l)}}}catch(l){te(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var M_=Math.ceil,To=Bt.ReactCurrentDispatcher,Cc=Bt.ReactCurrentOwner,it=Bt.ReactCurrentBatchConfig,V=0,ge=null,le=null,_e=0,We=0,xr=gn(0),he=0,qs=null,Kn=0,na=0,jc=0,Ss=null,Le=null,Rc=0,$r=1/0,Tt=null,Co=!1,cu=null,an=null,Oi=!1,Zt=null,jo=0,bs=0,du=null,to=-1,no=0;function Ne(){return V&6?se():to!==-1?to:to=se()}function ln(t){return t.mode&1?V&2&&_e!==0?_e&-_e:__.transition!==null?(no===0&&(no=nm()),no):(t=B,t!==0||(t=window.event,t=t===void 0?16:um(t.type)),t):1}function gt(t,e,n,r){if(50<bs)throw bs=0,du=null,Error(T(185));ri(t,n,r),(!(V&2)||t!==ge)&&(t===ge&&(!(V&2)&&(na|=n),he===4&&Qt(t,_e)),Ve(t,r),n===1&&V===0&&!(e.mode&1)&&($r=se()+500,Xo&&yn()))}function Ve(t,e){var n=t.callbackNode;_w(t,e);var r=ho(t,t===ge?_e:0);if(r===0)n!==null&&Od(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Od(n),e===1)t.tag===0?w_(bh.bind(null,t)):Cm(bh.bind(null,t)),m_(function(){!(V&6)&&yn()}),n=null;else{switch(rm(r)){case 1:n=nc;break;case 4:n=em;break;case 16:n=co;break;case 536870912:n=tm;break;default:n=co}n=Pg(n,wg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wg(t,e){if(to=-1,no=0,V&6)throw Error(T(327));var n=t.callbackNode;if(Or()&&t.callbackNode!==n)return null;var r=ho(t,t===ge?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ro(t,r);else{e=r;var s=V;V|=2;var i=xg();(ge!==t||_e!==e)&&(Tt=null,$r=se()+500,Vn(t,e));do try{V_();break}catch(a){_g(t,a)}while(!0);mc(),To.current=i,V=s,le!==null?e=0:(ge=null,_e=0,e=he)}if(e!==0){if(e===2&&(s=Ul(t),s!==0&&(r=s,e=hu(t,s))),e===1)throw n=qs,Vn(t,0),Qt(t,r),Ve(t,se()),n;if(e===6)Qt(t,r);else{if(s=t.current.alternate,!(r&30)&&!U_(s)&&(e=Ro(t,r),e===2&&(i=Ul(t),i!==0&&(r=i,e=hu(t,i))),e===1))throw n=qs,Vn(t,0),Qt(t,r),Ve(t,se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Tn(t,Le,Tt);break;case 3:if(Qt(t,r),(r&130023424)===r&&(e=Rc+500-se(),10<e)){if(ho(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ql(Tn.bind(null,t,Le,Tt),e);break}Tn(t,Le,Tt);break;case 4:if(Qt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M_(r/1960))-r,10<r){t.timeoutHandle=ql(Tn.bind(null,t,Le,Tt),r);break}Tn(t,Le,Tt);break;case 5:Tn(t,Le,Tt);break;default:throw Error(T(329))}}}return Ve(t,se()),t.callbackNode===n?wg.bind(null,t):null}function hu(t,e){var n=Ss;return t.current.memoizedState.isDehydrated&&(Vn(t,e).flags|=256),t=Ro(t,e),t!==2&&(e=Le,Le=n,e!==null&&fu(e)),t}function fu(t){Le===null?Le=t:Le.push.apply(Le,t)}function U_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qt(t,e){for(e&=~jc,e&=~na,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),r=1<<n;t[n]=-1,e&=~r}}function bh(t){if(V&6)throw Error(T(327));Or();var e=ho(t,0);if(!(e&1))return Ve(t,se()),null;var n=Ro(t,e);if(t.tag!==0&&n===2){var r=Ul(t);r!==0&&(e=r,n=hu(t,r))}if(n===1)throw n=qs,Vn(t,0),Qt(t,e),Ve(t,se()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,Le,Tt),Ve(t,se()),null}function Oc(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&($r=se()+500,Xo&&yn())}}function Gn(t){Zt!==null&&Zt.tag===0&&!(V&6)&&Or();var e=V;V|=1;var n=it.transition,r=B;try{if(it.transition=null,B=1,t)return t()}finally{B=r,it.transition=n,V=e,!(V&6)&&yn()}}function Ac(){We=xr.current,q(xr)}function Vn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p_(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yo();break;case 3:Mr(),q(Ue),q(Te),xc();break;case 5:_c(r);break;case 4:Mr();break;case 13:q(Y);break;case 19:q(Y);break;case 10:gc(r.type._context);break;case 22:case 23:Ac()}n=n.return}if(ge=t,le=t=un(t.current,null),_e=We=e,he=0,qs=null,jc=na=Kn=0,Le=Ss=null,Ln!==null){for(e=0;e<Ln.length;e++)if(n=Ln[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ln=null}return t}function _g(t,e){do{var n=le;try{if(mc(),Xi.current=Po,Eo){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Eo=!1}if(qn=0,me=de=Z=null,_s=!1,zs=0,Cc.current=null,n===null||n.return===null){he=1,qs=e,le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ch(o);if(f!==null){f.flags&=-257,dh(f,o,a,i,e),f.mode&1&&uh(i,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){uh(i,u,e),Nc();break e}l=Error(T(426))}}else if(G&&a.mode&1){var _=ch(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dh(_,o,a,i,e),fc(Ur(l,a));break e}}i=l=Ur(l,a),he!==4&&(he=2),Ss===null?Ss=[i]:Ss.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=rg(i,l,e);rh(i,g);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(an===null||!an.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=sg(i,a,e);rh(i,x);break e}}i=i.return}while(i!==null)}bg(n)}catch(b){e=b,le===n&&n!==null&&(le=n=n.return);continue}break}while(!0)}function xg(){var t=To.current;return To.current=Po,t===null?Po:t}function Nc(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Kn&268435455)&&!(na&268435455)||Qt(ge,_e)}function Ro(t,e){var n=V;V|=2;var r=xg();(ge!==t||_e!==e)&&(Tt=null,Vn(t,e));do try{$_();break}catch(s){_g(t,s)}while(!0);if(mc(),V=n,To.current=r,le!==null)throw Error(T(261));return ge=null,_e=0,he}function $_(){for(;le!==null;)Sg(le)}function V_(){for(;le!==null&&!dw();)Sg(le)}function Sg(t){var e=Eg(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?bg(t):le=e,Cc.current=null}function bg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N_(n,e),n!==null){n.flags&=32767,le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,le=null;return}}else if(n=A_(n,e,We),n!==null){le=n;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);he===0&&(he=5)}function Tn(t,e,n){var r=B,s=it.transition;try{it.transition=null,B=1,B_(t,e,n,r)}finally{it.transition=s,B=r}return null}function B_(t,e,n,r){do Or();while(Zt!==null);if(V&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(xw(t,i),t===ge&&(le=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oi||(Oi=!0,Pg(co,function(){return Or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=B;B=1;var a=V;V|=4,Cc.current=null,D_(t,n),yg(n,t),a_(Wl),fo=!!zl,Wl=zl=null,t.current=n,L_(n),hw(),V=a,B=o,it.transition=i}else t.current=n;if(Oi&&(Oi=!1,Zt=t,jo=s),i=t.pendingLanes,i===0&&(an=null),mw(n.stateNode),Ve(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Co)throw Co=!1,t=cu,cu=null,t;return jo&1&&t.tag!==0&&Or(),i=t.pendingLanes,i&1?t===du?bs++:(bs=0,du=t):bs=0,yn(),null}function Or(){if(Zt!==null){var t=rm(jo),e=it.transition,n=B;try{if(it.transition=null,B=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,jo=0,V&6)throw Error(T(331));var s=V;for(V|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:xs(8,c,i)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,f=c.return;if(pg(c),c===u){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,j=g;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ta(9,a)}}catch(b){te(a,a.return,b)}if(a===o){j=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,j=x;break e}j=a.return}}if(V=s,yn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ko,t)}catch{}r=!0}return r}finally{B=n,it.transition=e}}return!1}function kh(t,e,n){e=Ur(n,e),e=rg(t,e,1),t=on(t,e,1),e=Ne(),t!==null&&(ri(t,1,e),Ve(t,e))}function te(t,e,n){if(t.tag===3)kh(t,t,n);else for(;e!==null;){if(e.tag===3){kh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){t=Ur(n,t),t=sg(e,t,1),e=on(e,t,1),t=Ne(),e!==null&&(ri(e,1,t),Ve(e,t));break}}e=e.return}}function F_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>se()-Rc?Vn(t,0):jc|=n),Ve(t,e)}function kg(t,e){e===0&&(t.mode&1?(e=xi,xi<<=1,!(xi&130023424)&&(xi=4194304)):e=1);var n=Ne();t=Ut(t,e),t!==null&&(ri(t,e,n),Ve(t,n))}function z_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kg(t,n)}function W_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),kg(t,n)}var Eg;Eg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)Me=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Me=!1,O_(t,e,n);Me=!!(t.flags&131072)}else Me=!1,G&&e.flags&1048576&&jm(e,_o,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eo(t,e),t=e.pendingProps;var s=Ir(e,Te.current);Rr(e,n),s=bc(null,e,r,t,s,n);var i=kc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(r)?(i=!0,vo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vc(e),s.updater=ea,e.stateNode=s,s._reactInternals=e,Zl(e,r,t,n),e=nu(null,e,r,!0,i,n)):(e.tag=0,G&&i&&dc(e),Re(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=q_(r),t=ct(r,t),s){case 0:e=tu(null,e,r,t,n);break e;case 1:e=ph(null,e,r,t,n);break e;case 11:e=hh(null,e,r,t,n);break e;case 14:e=fh(null,e,r,ct(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),tu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),ph(t,e,r,s,n);case 3:e:{if(lg(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dm(t,e),bo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ur(Error(T(423)),e),e=mh(t,e,r,n,s);break e}else if(r!==s){s=Ur(Error(T(424)),e),e=mh(t,e,r,n,s);break e}else for(Ke=sn(e.stateNode.containerInfo.firstChild),Ge=e,G=!0,pt=null,n=Nm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===s){e=$t(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return Lm(e),t===null&&Ql(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Hl(r,s)?o=null:i!==null&&Hl(r,i)&&(e.flags|=32),ag(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&Ql(e),null;case 13:return ug(t,e,n);case 4:return wc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lr(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),hh(t,e,r,s,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(xo,r._currentValue),r._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!Ue.current){e=$t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Nt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yl(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rr(e,n),s=ot(s),r=r(s),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,s=ct(r,e.pendingProps),s=ct(r.type,s),fh(t,e,r,s,n);case 15:return ig(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),eo(t,e),e.tag=1,$e(r)?(t=!0,vo(e)):t=!1,Rr(e,n),ng(e,r,s),Zl(e,r,s,n),nu(null,e,r,!0,t,n);case 19:return cg(t,e,n);case 22:return og(t,e,n)}throw Error(T(156,e.tag))};function Pg(t,e){return Zp(t,e)}function H_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,n,r){return new H_(t,e,n,r)}function Ic(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q_(t){if(typeof t=="function")return Ic(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zu)return 11;if(t===ec)return 14}return 2}function un(t,e){var n=t.alternate;return n===null?(n=st(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ro(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ic(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dr:return Bn(n.children,s,i,e);case Xu:o=8,s|=8;break;case bl:return t=st(12,n,e,s|2),t.elementType=bl,t.lanes=i,t;case kl:return t=st(13,n,e,s),t.elementType=kl,t.lanes=i,t;case El:return t=st(19,n,e,s),t.elementType=El,t.lanes=i,t;case Lp:return ra(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ip:o=10;break e;case Dp:o=9;break e;case Zu:o=11;break e;case ec:o=14;break e;case qt:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=st(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bn(t,e,n,r){return t=st(7,t,r,e),t.lanes=n,t}function ra(t,e,n,r){return t=st(22,t,r,e),t.elementType=Lp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ka(t,e,n){return t=st(6,t,null,e),t.lanes=n,t}function Ga(t,e,n){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ca(0),this.expirationTimes=Ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dc(t,e,n,r,s,i,o,a,l){return t=new K_(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=st(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(i),t}function G_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tg(t){if(!t)return hn;t=t._reactInternals;e:{if(Qn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if($e(n))return Tm(t,n,e)}return e}function Cg(t,e,n,r,s,i,o,a,l){return t=Dc(n,r,!0,t,s,i,o,a,l),t.context=Tg(null),n=t.current,r=Ne(),s=ln(n),i=Nt(r,s),i.callback=e??null,on(n,i,s),t.current.lanes=s,ri(t,s,r),Ve(t,r),t}function sa(t,e,n,r){var s=e.current,i=Ne(),o=ln(s);return n=Tg(n),e.context===null?e.context=n:e.pendingContext=n,e=Nt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=on(s,e,o),t!==null&&(gt(t,s,o,i),Yi(t,s,o)),o}function Oo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lc(t,e){Eh(t,e),(t=t.alternate)&&Eh(t,e)}function J_(){return null}var jg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}ia.prototype.render=Mc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));sa(t,e,null,null)};ia.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gn(function(){sa(null,t,null,null)}),e[Mt]=null}};function ia(t){this._internalRoot=t}ia.prototype.unstable_scheduleHydration=function(t){if(t){var e=om();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&lm(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ph(){}function Q_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Oo(o);i.call(u)}}var o=Cg(e,r,t,0,null,!1,!1,"",Ph);return t._reactRootContainer=o,t[Mt]=o.current,Us(t.nodeType===8?t.parentNode:t),Gn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Oo(l);a.call(u)}}var l=Dc(t,0,!1,null,null,!1,!1,"",Ph);return t._reactRootContainer=l,t[Mt]=l.current,Us(t.nodeType===8?t.parentNode:t),Gn(function(){sa(e,l,n,r)}),l}function aa(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Oo(o);a.call(l)}}sa(e,o,t,s)}else o=Q_(n,e,t,s,r);return Oo(o)}sm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ds(e.pendingLanes);n!==0&&(rc(e,n|1),Ve(e,se()),!(V&6)&&($r=se()+500,yn()))}break;case 13:Gn(function(){var r=Ut(t,1);if(r!==null){var s=Ne();gt(r,t,1,s)}}),Lc(t,1)}};sc=function(t){if(t.tag===13){var e=Ut(t,134217728);if(e!==null){var n=Ne();gt(e,t,134217728,n)}Lc(t,134217728)}};im=function(t){if(t.tag===13){var e=ln(t),n=Ut(t,e);if(n!==null){var r=Ne();gt(n,t,e,r)}Lc(t,e)}};om=function(){return B};am=function(t,e){var n=B;try{return B=t,e()}finally{B=n}};Dl=function(t,e,n){switch(e){case"input":if(Cl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Yo(r);if(!s)throw Error(T(90));Up(r),Cl(r,s)}}}break;case"textarea":Vp(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};Kp=Oc;Gp=Gn;var Y_={usingClientEntryPoint:!1,Events:[ii,mr,Yo,Hp,qp,Oc]},rs={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X_={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yp(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||J_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Ko=Ai.inject(X_),bt=Ai}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;Ye.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(e))throw Error(T(200));return G_(t,e,null,n)};Ye.createRoot=function(t,e){if(!Uc(t))throw Error(T(299));var n=!1,r="",s=jg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dc(t,1,!1,null,null,n,!1,r,s),t[Mt]=e.current,Us(t.nodeType===8?t.parentNode:t),new Mc(e)};Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Yp(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t){return Gn(t)};Ye.hydrate=function(t,e,n){if(!oa(e))throw Error(T(200));return aa(null,t,e,!0,n)};Ye.hydrateRoot=function(t,e,n){if(!Uc(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=jg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Cg(e,null,t,1,n??null,s,!1,i,o),t[Mt]=e.current,Us(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ia(e)};Ye.render=function(t,e,n){if(!oa(e))throw Error(T(200));return aa(null,t,e,!1,n)};Ye.unmountComponentAtNode=function(t){if(!oa(t))throw Error(T(40));return t._reactRootContainer?(Gn(function(){aa(null,null,t,!1,function(){t._reactRootContainer=null,t[Mt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Oc;Ye.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oa(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return aa(t,e,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function Rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rg)}catch(t){console.error(t)}}Rg(),Rp.exports=Ye;var Z_=Rp.exports,Th=Z_;xl.createRoot=Th.createRoot,xl.hydrateRoot=Th.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}var en;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(en||(en={}));const Ch="popstate";function ex(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return pu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Og(s)}return nx(e,n,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tx(){return Math.random().toString(36).substr(2,8)}function jh(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,n,r){return n===void 0&&(n=null),Ks({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qr(e):e,{state:n,key:e&&e.key||r||tx()})}function Og(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=en.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ks({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=en.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:g})}function h(_,g){a=en.Push;let p=pu(w.location,_,g);u=c()+1;let m=jh(p,u),x=w.createHref(p);try{o.pushState(m,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function f(_,g){a=en.Replace;let p=pu(w.location,_,g);u=c();let m=jh(p,u),x=w.createHref(p);o.replaceState(m,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function y(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:Og(_);return p=p.replace(/ $/,"%20"),ue(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ch,d),l=_,()=>{s.removeEventListener(Ch,d),l=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(_){return o.go(_)}};return w}var Rh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rh||(Rh={}));function rx(t,e,n){return n===void 0&&(n="/"),sx(t,e,n)}function sx(t,e,n,r){let s=typeof e=="string"?qr(e):e,i=Ig(s.pathname||"/",n);if(i==null)return null;let o=Ag(t);ix(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=yx(i);a=px(o[l],u)}return a}function Ag(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ag(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:hx(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ng(i.path))s(i,o,l)}),e}function Ng(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ng(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ix(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ox=/^:[\w-]+$/,ax=3,lx=2,ux=1,cx=10,dx=-2,Oh=t=>t==="*";function hx(t,e){let n=t.split("/"),r=n.length;return n.some(Oh)&&(r+=dx),e&&(r+=lx),n.filter(s=>!Oh(s)).reduce((s,i)=>s+(ox.test(i)?ax:i===""?ux:cx),r)}function fx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function px(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=mx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Fn([i,d.pathname]),pathnameBase:Sx(Fn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Fn([i,d.pathnameBase]))}return o}function mx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return f&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function gx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wx=t=>vx.test(t);function _x(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qr(t):t,i;if(n)if(wx(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$c(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Ah(n.substring(1),"/"):i=Ah(n,e)}else i=e;return{pathname:i,search:bx(r),hash:kx(s)}}function Ah(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ja(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(t,e){let n=xx(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qr(t):(s=Ks({},t),ue(!s.pathname||!s.pathname.includes("?"),Ja("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Ja("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Ja("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=_x(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fn=t=>t.join("/").replace(/\/\/+/g,"/"),Sx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ex(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mg=["post","put","patch","delete"];new Set(Mg);const Px=["get",...Mg];new Set(Px);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}const Vc=S.createContext(null),Tx=S.createContext(null),ai=S.createContext(null),la=S.createContext(null),Yn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Ug=S.createContext(null);function li(){return S.useContext(la)!=null}function ua(){return li()||ue(!1),S.useContext(la).location}function $g(t){S.useContext(ai).static||S.useLayoutEffect(t)}function ui(){let{isDataRoute:t}=S.useContext(Yn);return t?Vx():Cx()}function Cx(){li()||ue(!1);let t=S.useContext(Vc),{basename:e,future:n,navigator:r}=S.useContext(ai),{matches:s}=S.useContext(Yn),{pathname:i}=ua(),o=JSON.stringify(Dg(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return $g(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Lg(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,i,t])}function jx(t,e){return Rx(t,e)}function Rx(t,e,n,r){li()||ue(!1);let{navigator:s}=S.useContext(ai),{matches:i}=S.useContext(Yn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ua(),c;if(e){var d;let _=typeof e=="string"?qr(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||ue(!1),c=_}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=rx(t,{pathname:f}),w=Dx(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Fn([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Fn([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&w?S.createElement(la.Provider,{value:{location:Gs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:en.Pop}},w):w}function Ox(){let t=$x(),e=Ex(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const Ax=S.createElement(Ox,null);class Nx extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Yn.Provider,{value:this.props.routeContext},S.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ix(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(Vc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Yn.Provider,{value:e},r)}function Dx(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||ue(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,y=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,y=!1,w=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||Ax,l&&(u<0&&h===0?(Bx("route-fallback"),y=!0,_=null):u===h&&(y=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),p=()=>{let m;return f?m=w:y?m=_:d.route.Component?m=S.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,S.createElement(Ix,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(Nx,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Vg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vg||{}),Bg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bg||{});function Lx(t){let e=S.useContext(Vc);return e||ue(!1),e}function Mx(t){let e=S.useContext(Tx);return e||ue(!1),e}function Ux(t){let e=S.useContext(Yn);return e||ue(!1),e}function Fg(t){let e=Ux(),n=e.matches[e.matches.length-1];return n.route.id||ue(!1),n.route.id}function $x(){var t;let e=S.useContext(Ug),n=Mx(),r=Fg();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Vx(){let{router:t}=Lx(Vg.UseNavigateStable),e=Fg(Bg.UseNavigateStable),n=S.useRef(!1);return $g(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gs({fromRouteId:e},i)))},[t,e])}const Nh={};function Bx(t,e,n){Nh[t]||(Nh[t]=!0)}function Fx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Js(t){let{to:e,replace:n,state:r,relative:s}=t;li()||ue(!1);let{future:i,static:o}=S.useContext(ai),{matches:a}=S.useContext(Yn),{pathname:l}=ua(),u=ui(),c=Lg(e,Dg(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function Pt(t){ue(!1)}function zx(t){let{basename:e="/",children:n=null,location:r,navigationType:s=en.Pop,navigator:i,static:o=!1,future:a}=t;li()&&ue(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:Gs({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=qr(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:y="default"}=r,w=S.useMemo(()=>{let _=Ig(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:y},navigationType:s}},[l,c,d,h,f,y,s]);return w==null?null:S.createElement(ai.Provider,{value:u},S.createElement(la.Provider,{children:n,value:w}))}function Wx(t){let{children:e,location:n}=t;return jx(mu(e),n)}new Promise(()=>{});function mu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,mu(r.props.children,i));return}r.type!==Pt&&ue(!1),!r.props.index||!r.props.children||ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Hx="6";try{window.__reactRouterVersion=Hx}catch{}const qx="startTransition",Ih=F0[qx];function Kx(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=ex({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(d=>{u&&Ih?Ih(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>Fx(r),[r]),S.createElement(zx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Dh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dh||(Dh={}));var Lh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lh||(Lh={}));var gu=function(t,e){return gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},gu(t,e)};function zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ao=function(){return Ao=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ao.apply(this,arguments)};function Kr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Wg(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Hg(t,e){return function(n,r){e(n,r,t)}}function qg(t,e,n,r,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var _=(0,n[f])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(c.get=d),(d=o(_.set))&&(c.set=d),(d=o(_.init))&&s.unshift(d)}else(d=o(_))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function Kg(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function Gg(t){return typeof t=="symbol"?t:"".concat(t)}function Jg(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Qg(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Yg(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ca=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Xg(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ca(e,t,n)}function No(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Zg(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bc(arguments[e]));return t}function ey(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function ty(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Vr(t){return this instanceof Vr?(this.v=t,this):new Vr(t)}function ny(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(y){return Promise.resolve(y).then(f,d)}}function a(f,y){r[f]&&(s[f]=function(w){return new Promise(function(_,g){i.push([f,w,_,g])>1||l(f,w)})},y&&(s[f]=y(s[f])))}function l(f,y){try{u(r[f](y))}catch(w){h(i[0][3],w)}}function u(f){f.value instanceof Vr?Promise.resolve(f.value.v).then(c,d):h(i[0][2],f)}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,y){f(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function ry(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Vr(t[s](o)),done:!1}:i?i(o):o}:i}}function sy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof No=="function"?No(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function iy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Gx=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},yu=function(t){return yu=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},yu(t)};function oy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=yu(t),r=0;r<n.length;r++)n[r]!=="default"&&ca(e,t,n[r]);return Gx(e,t),e}function ay(t){return t&&t.__esModule?t:{default:t}}function ly(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function uy(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function cy(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function dy(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Jx=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function hy(t){function e(i){t.error=t.hasError?new Jx(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function fy(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const Qx={__extends:zg,__assign:Ao,__rest:Kr,__decorate:Wg,__param:Hg,__esDecorate:qg,__runInitializers:Kg,__propKey:Gg,__setFunctionName:Jg,__metadata:Qg,__awaiter:O,__generator:Yg,__createBinding:ca,__exportStar:Xg,__values:No,__read:Bc,__spread:Zg,__spreadArrays:ey,__spreadArray:ty,__await:Vr,__asyncGenerator:ny,__asyncDelegator:ry,__asyncValues:sy,__makeTemplateObject:iy,__importStar:oy,__importDefault:ay,__classPrivateFieldGet:ly,__classPrivateFieldSet:uy,__classPrivateFieldIn:cy,__addDisposableResource:dy,__disposeResources:hy,__rewriteRelativeImportExtension:fy},Yx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dy,get __assign(){return Ao},__asyncDelegator:ry,__asyncGenerator:ny,__asyncValues:sy,__await:Vr,__awaiter:O,__classPrivateFieldGet:ly,__classPrivateFieldIn:cy,__classPrivateFieldSet:uy,__createBinding:ca,__decorate:Wg,__disposeResources:hy,__esDecorate:qg,__exportStar:Xg,__extends:zg,__generator:Yg,__importDefault:ay,__importStar:oy,__makeTemplateObject:iy,__metadata:Qg,__param:Hg,__propKey:Gg,__read:Bc,__rest:Kr,__rewriteRelativeImportExtension:fy,__runInitializers:Kg,__setFunctionName:Jg,__spread:Zg,__spreadArray:ty,__spreadArrays:ey,__values:No,default:Qx},Symbol.toStringTag,{value:"Module"})),Xx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Fc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Zx extends Fc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mh extends Fc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uh extends Fc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vu||(vu={}));class eS{constructor(e,{headers:n={},customFetch:r,region:s=vu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const y=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(_=o.signal,c.addEventListener("abort",()=>o.abort())):_=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:_}).catch(b=>{throw new Zx(b)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Mh(g);if(!g.ok)throw new Uh(g);let m=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield g.json():m==="application/octet-stream"||m==="application/pdf"?x=yield g.blob():m==="text/event-stream"?x=g:m==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Uh||a instanceof Mh?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ae={};const Gr=P0(Yx);var Ni={},Ii={},Di={},Li={},Mi={},Ui={},$h;function py(){if($h)return Ui;$h=1,Object.defineProperty(Ui,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ui.default=t,Ui}var Vh;function my(){if(Vh)return Mi;Vh=1,Object.defineProperty(Mi,"__esModule",{value:!0});const e=Gr.__importDefault(py());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let f=null,y=null,w=null,_=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const b=await l.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=b:y=JSON.parse(b))}const m=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&x&&x.length>1&&(w=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const m=await l.text();try{f=JSON.parse(m),Array.isArray(f)&&l.status===404&&(y=[],f=null,_=200,g="OK")}catch{l.status===404&&m===""?(_=204,g="No Content"):f={message:m}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,_=200,g="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:y,count:w,status:_,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d,h,f,y;let w="";const _=l==null?void 0:l.cause;if(_){const g=(u=_==null?void 0:_.message)!==null&&u!==void 0?u:"",p=(c=_==null?void 0:_.code)!==null&&c!==void 0?c:"";w=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(h=_==null?void 0:_.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(w+=` (${p})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Mi.default=n,Mi}var Bh;function gy(){if(Bh)return Li;Bh=1,Object.defineProperty(Li,"__esModule",{value:!0});const e=Gr.__importDefault(my());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Li.default=n,Li}var Fh;function zc(){if(Fh)return Di;Fh=1,Object.defineProperty(Di,"__esModule",{value:!0});const e=Gr.__importDefault(gy()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Di.default=r,Di}var zh;function yy(){if(zh)return Ii;zh=1,Object.defineProperty(Ii,"__esModule",{value:!0});const e=Gr.__importDefault(zc());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ii.default=n,Ii}var Wh;function tS(){if(Wh)return Ni;Wh=1,Object.defineProperty(Ni,"__esModule",{value:!0});const t=Gr,e=t.__importDefault(yy()),n=t.__importDefault(zc());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{h.searchParams.append(w,_)})):(d="POST",f=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:y,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ni.default=r,Ni}Object.defineProperty(Ae,"__esModule",{value:!0});var vy=Ae.PostgrestError=Cy=Ae.PostgrestBuilder=Py=Ae.PostgrestTransformBuilder=ky=Ae.PostgrestFilterBuilder=Sy=Ae.PostgrestQueryBuilder=_y=Ae.PostgrestClient=void 0;const Jr=Gr,wy=Jr.__importDefault(tS());var _y=Ae.PostgrestClient=wy.default;const xy=Jr.__importDefault(yy());var Sy=Ae.PostgrestQueryBuilder=xy.default;const by=Jr.__importDefault(zc());var ky=Ae.PostgrestFilterBuilder=by.default;const Ey=Jr.__importDefault(gy());var Py=Ae.PostgrestTransformBuilder=Ey.default;const Ty=Jr.__importDefault(my());var Cy=Ae.PostgrestBuilder=Ty.default;const jy=Jr.__importDefault(py());vy=Ae.PostgrestError=jy.default;var Ry=Ae.default={PostgrestClient:wy.default,PostgrestQueryBuilder:xy.default,PostgrestFilterBuilder:by.default,PostgrestTransformBuilder:Ey.default,PostgrestBuilder:Ty.default,PostgrestError:jy.default};const nS=vp({__proto__:null,get PostgrestBuilder(){return Cy},get PostgrestClient(){return _y},get PostgrestError(){return vy},get PostgrestFilterBuilder(){return ky},get PostgrestQueryBuilder(){return Sy},get PostgrestTransformBuilder(){return Py},default:Ry},[Ae]),{PostgrestClient:rS,PostgrestQueryBuilder:QC,PostgrestFilterBuilder:YC,PostgrestTransformBuilder:XC,PostgrestBuilder:ZC,PostgrestError:ej}=Ry||nS;class sS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iS="2.84.0",oS=`realtime-js/${iS}`,Oy="1.0.0",aS="2.0.0",Hh=Oy,wu=1e4,lS=1e3,uS=100;var An;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(An||(An={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ft||(ft={}));var _u;(function(t){t.websocket="websocket"})(_u||(_u={}));var Nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nn||(Nn={}));class cS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),y=0;f.setUint8(y++,this.KINDS.userBroadcastPush),f.setUint8(y++,l.length),f.setUint8(y++,a.length),f.setUint8(y++,o.length),f.setUint8(y++,u.length),f.setUint8(y++,this.BINARY_ENCODING),Array.from(l,_=>f.setUint8(y++,_.charCodeAt(0))),Array.from(a,_=>f.setUint8(y++,_.charCodeAt(0))),Array.from(o,_=>f.setUint8(y++,_.charCodeAt(0))),Array.from(u,_=>f.setUint8(y++,_.charCodeAt(0)));var w=new Uint8Array(h.byteLength+c.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(c),h.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var n,r,s,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,c=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(y),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,l.length),w.setUint8(_++,a.length),w.setUint8(_++,o.length),w.setUint8(_++,u.length),w.setUint8(_++,this.JSON_ENCODING),Array.from(l,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(a,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(o,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(u,p=>w.setUint8(_++,p.charCodeAt(0)));var g=new Uint8Array(y.byteLength+h.byteLength);return g.set(new Uint8Array(y),0),g.set(new Uint8Array(h),y.byteLength),g.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Ay{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const qh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=dS(o,t,e,s),i),{}):{}},dS=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Ny(i,o):xu(o)},Ny=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return mS(e,n)}switch(t){case F.bool:return hS(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return fS(e);case F.json:case F.jsonb:return pS(e);case F.timestamp:return gS(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return xu(e);default:return xu(e)}},xu=t=>t,hS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ny(e,a))}return t},gS=t=>typeof t=="string"?t.replace(" ","T"):t,Iy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qa{constructor(e,n,r={},s=wu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kh||(Kh={}));class ks{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ks.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ks.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),y=c.filter(_=>f.indexOf(_.presence_ref)<0),w=d.filter(_=>h.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gh||(Gh={}));var Es;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Es||(Es={}));var Ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Wc{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qa(this,ft.join,this.params,this.timeout),this.rejoinTimer=new Ay(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ks(this),this.broadcastEndpointURL=Iy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Ct.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Ct.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(Ct.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<_;p++){const m=w[p],{filter:{event:x,schema:b,table:k,filter:E}}=m,P=f&&f[p];if(P&&P.event===x&&P.schema===b&&P.table===k&&P.filter===E)g.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=ce.errored,e==null||e(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Ct.SUBSCRIBED);return}}).receive("error",f=>{this.state=ce.errored,e==null||e(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ce.joined&&e===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Qa(this,ft.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qa(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ft;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var y,w,_;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=f.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var y,w,_,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,b=(y=f.filter)===null||y===void 0?void 0:y.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:_,commit_timestamp:g,type:p,errors:m}=y;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}f.callback(h,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wc.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ft.close,{},e)}_onError(e){this._on(ft.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=qh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=qh(e.columns,e.old_record)),n}}const Ya=()=>{},$i={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yS=[1e3,2e3,5e3,1e4],vS=1e4,wS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _S{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=$i.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ya,this.ref=0,this.reconnectTimer=null,this.vsn=Hh,this.logger=Ya,this.conn=null,this.sendBuffer=[],this.serializer=new cS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${_u.websocket}`,this.httpEndpoint=Iy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return Nn.Connecting;case An.open:return Nn.Open;case An.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Wc(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},$i.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ft.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([wS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:oS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ft.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ay(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$i.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,c,d,h,f;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:wu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:$i.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ya,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Hh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>yS[y-1]||vS,this.vsn){case Oy:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case aS:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Hc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Q(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xS extends Hc{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Su extends Hc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const qc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SS=()=>Response,bu=t=>{if(Array.isArray(t))return t.map(n=>bu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=bu(r)}),e},bS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xa=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kS=(t,e,n)=>O(void 0,void 0,void 0,function*(){const r=yield SS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new xS(Xa(s),i,o))}).catch(s=>{e(new Su(Xa(s),s))}):e(new Su(Xa(t),t))}),ES=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(bS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ci(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ES(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kS(l,a,r))})})}function Qs(t,e,n,r){return O(this,void 0,void 0,function*(){return ci(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return O(this,void 0,void 0,function*(){return ci(t,"POST",e,r,s,n)})}function ku(t,e,n,r,s){return O(this,void 0,void 0,function*(){return ci(t,"PUT",e,r,s,n)})}function PS(t,e,n,r){return O(this,void 0,void 0,function*(){return ci(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kc(t,e,n,r,s){return O(this,void 0,void 0,function*(){return ci(t,"DELETE",e,r,s,n)})}class TS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Q(e))return{data:null,error:e};throw e}})}}var Dy;class CS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Dy]="BlobDownloadBuilder",this.promise=null}asStream(){return new TS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Q(e))return{data:null,error:e};throw e}})}}Dy=Symbol.toStringTag;const jS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class RS{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=qc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Jh),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?ku:dt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Q(i))return{data:null,error:i};throw i}})}upload(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Jh.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield ku(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Q(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return O(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Hc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}update(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}copy(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return O(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Qs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new CS(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}exists(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield PS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r)&&r instanceof Su){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}list(e,n,r){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jS),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}listV2(e,n){return O(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ly="2.84.0",My={"X-Client-Info":`storage-js/${Ly}`};class OS{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),n),this.fetch=qc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Qs(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}createBucket(e){return O(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Q(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Q(r))return{data:null,error:r};throw r}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class AS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},My),n),this.fetch=qc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Qs(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Q(n))return{data:null,error:n};throw n}})}}const Gc={"X-Client-Info":`storage-js/${Ly}`,"Content-Type":"application/json"};class Uy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Za extends Uy{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class NS extends Uy{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Qh;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Qh||(Qh={}));const Jc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DS=(t,e,n)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Za(Yh(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Za(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Za(a,s,o))}}else e(new NS(Yh(t),t))}),LS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(IS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function MS(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,LS(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>DS(l,a,r))})})}function qe(t,e,n,r,s){return O(this,void 0,void 0,function*(){return MS(t,"POST",e,r,s,n)})}class US{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gc),n),this.fetch=Jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}getIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class $S{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gc),n),this.fetch=Jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield qe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class VS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gc),n),this.fetch=Jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield qe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class BS extends VS{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new FS(this.url,this.headers,e,this.fetch)}}class FS extends US{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new zS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class zS extends $S{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class WS extends OS{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new RS(this.url,this.headers,e,this.fetch)}get vectors(){return new BS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AS(this.url+"/iceberg",this.headers,this.fetch)}}const HS="2.84.0";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const qS={"X-Client-Info":`supabase-js-${fs}/${HS}`},KS={headers:qS},GS={schema:"public"},JS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QS={},YS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XS=()=>Headers,ZS=(t,e,n)=>{const r=YS(n),s=XS();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function eb(t){return t.endsWith("/")?t:t+"/"}function tb(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function nb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $y="2.84.0",lr=30*1e3,Eu=3,el=Eu*lr,rb="http://localhost:9999",sb="supabase.auth.token",ib={"X-Client-Info":`gotrue-js/${$y}`},Pu="X-Supabase-Api-Version",Vy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ob=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ab=10*60*1e3;class Ys extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lb extends Ys{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ub(t){return A(t)&&t.name==="AuthApiError"}class In extends Ys{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vn extends Ys{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ze extends vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cb(t){return A(t)&&t.name==="AuthSessionMissingError"}class rr extends vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vi extends vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bi extends vn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function db(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xh extends vn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tu extends vn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function tl(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Zh extends vn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cu extends vn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ef=` 	
\r=`.split(""),hb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ef.length;e+=1)t[ef[e].charCodeAt(0)]=-2;for(let e=0;e<Io.length;e+=1)t[Io[e].charCodeAt(0)]=e;return t})();function tf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Io[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Io[r]),e.queuedBits-=6}}function By(t,e,n){const r=hb[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nf(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{mb(o,r,n)};for(let o=0;o<t.length;o+=1)By(t.charCodeAt(o),s,i);return e.join("")}function fb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pb(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fb(r,e)}}function mb(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ar(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)By(t.charCodeAt(s),n,r);return new Uint8Array(e)}function gb(t){const e=[];return pb(t,n=>e.push(n)),new Uint8Array(e)}function Un(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>tf(s,n,r)),tf(null,n,r),e.join("")}function yb(t){return Math.round(Date.now()/1e3)+t}function vb(){return Symbol("auth-callback")}const ve=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Fy=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function wb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const zy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_b=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ur=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},kn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wt=async(t,e)=>{await t.removeItem(e)};class da{constructor(){this.promise=new da.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}da.promiseConstructor=Promise;function nl(t){const e=t.split(".");if(e.length!==3)throw new Cu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ob.test(e[r]))throw new Cu("JWT not in base64url format");return{header:JSON.parse(nf(e[0])),payload:JSON.parse(nf(e[1])),signature:Ar(e[2]),raw:{header:e[0],payload:e[1]}}}async function xb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sb(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function bb(t){return("0"+t.toString(16)).substr(-2)}function kb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,bb).join("")}async function Eb(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Pb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Eb(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(t,e,n=!1){const r=kb();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ur(t,`${e}-code-verifier`,s);const i=await Pb(r);return[i,r===i?"plain":"s256"]}const Tb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cb(t){const e=t.headers.get(Pu);if(!e||!e.match(Tb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ob=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(t){if(!Ob.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ab(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function rf(t){return JSON.parse(JSON.stringify(t))}const Cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nb=[502,503,504];async function sf(t){var e;if(!_b(t))throw new Tu(Cn(t),0);if(Nb.includes(t.status))throw new Tu(Cn(t),t.status);let n;try{n=await t.json()}catch(i){throw new In(Cn(i),i)}let r;const s=Cb(t);if(s&&s.getTime()>=Vy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zh(Cn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ze}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zh(Cn(n),t.status,n.weak_password.reasons);throw new lb(Cn(n),t.status||500,r)}const Ib=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function N(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Pu]||(i[Pu]=Vy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Db(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Db(t,e,n,r,s,i){const o=Ib(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Tu(Cn(l),0)}if(a.ok||await sf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await sf(l)}}function ut(t){var e;let n=null;Ub(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yb(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function of(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lb(t){return{data:t,error:null}}function Mb(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Kr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function af(t){return t}function Ub(t){return t.access_token&&t.refresh_token&&t.expires_in}const sl=["global","local","others"];class $b{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=sl[0]){if(sl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sl.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Kr(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Mb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:af});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ir(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ir(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ir(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ir(e.userId);try{const{data:n,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ir(e.userId),ir(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:af});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await N(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}}function lf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const or={debug:!!(globalThis&&Fy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vb extends Wy{}async function Bb(t,e,n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Fb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zb(t){return parseInt(t,16)}function Wb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Hb(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Hy(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${f}

${w}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}g+=p}return`${_}
${g}`}class ae extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Do extends ae{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function qb({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(qy(o)){if(i.rp.id!==o)return new ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Kb({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ae({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(qy(r)){if(n.rpId!==r)return new ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Gb{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jb=new Gb;function Qb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Kr(t,["challenge","user","excludeCredentials"]),i=Ar(e).buffer,o=Object.assign(Object.assign({},n),{id:Ar(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ar(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Yb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Kr(t,["challenge","allowCredentials"]),s=Ar(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ar(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Xb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Un(new Uint8Array(t.response.attestationObject)),clientDataJSON:Un(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Un(new Uint8Array(s.authenticatorData)),clientDataJSON:Un(new Uint8Array(s.clientDataJSON)),signature:Un(new Uint8Array(s.signature)),userHandle:s.userHandle?Un(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uf(){var t,e;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function e1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",e)}:{data:null,error:new Do("Empty credential response",e)}}catch(e){return{data:null,error:qb({error:e,options:t})}}}async function t1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",e)}:{data:null,error:new Do("Empty credential response",e)}}catch(e){return{data:null,error:Kb({error:e,options:t})}}}const n1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lo(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Lo(a,o):r[i]=Lo(o)}else r[i]=o}return r}function s1(t,e){return Lo(n1,t,e||{})}function i1(t,e){return Lo(r1,t,e||{})}class o1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??Jb.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=s1(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await e1({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=i1(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await t1(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new In("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn authentication")};try{if(!uf())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new In("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn registration")};try{if(!uf())return{data:null,error:new In("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new In("Unexpected error in register",o)}}}}Fb();const a1={url:rb,storageKey:sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ib,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cf(t,e,n){return await n()}const ar={};class Xs{get jwks(){var e,n;return(n=(e=ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},a1),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Xs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $b({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zy(i.fetch),this.lock=i.lock||cf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ve()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bb:this.lock=cf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Fy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=lf(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$y}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ve()&&(n=wb(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ve()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),db(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?this._returnResult({error:n}):this._returnResult({error:new In("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await sr(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},xform:ut})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ut})}else throw new Vi("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:of})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:of})}else throw new Vi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new rr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,c,d,h;let f,y;if("message"in e)f=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:g,options:p}=e;let m;if(ve())if(typeof _=="object")m=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")m=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=_}const x=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Hy(b[0]);let E=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const R=await m.request({method:"eth_chainId"});E=zb(R)}const P={domain:x.host,address:k,statement:g,uri:x.href,version:"1",chainId:E,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=Hb(P),y=await m.request({method:"personal_sign",params:[Wb(f),k]})}try{const{data:w,error:_}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ut});if(_)throw _;if(!w||!w.session||!w.user){const g=new rr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,c,d,h,f;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:g,statement:p,options:m}=e;let x;if(ve())if(typeof g=="object")x=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:_,error:g}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Un(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(g)throw g;if(!_||!_.session||!_.user){const p=new rr;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(A(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await kn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new rr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ut}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new rr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await sr(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Vi("You must provide either an email or phone number.")}catch(a){if(A(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await sr(this.storage,this.storageKey));const u=await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Lb});return!((i=u.data)===null||i===void 0)&&i.url&&ve()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(A(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ze;const{error:s}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(A(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await N(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Vi("You must provide either an email or phone number and a type")}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<el:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await kn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=rl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Ab(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ze}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(n){if(A(n))return cb(n)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ze;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await sr(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Yt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ze;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=nl(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ze;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ve())throw new Bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xh("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Bi("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ub(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=vb(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ve()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(A(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ut}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new rr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Sb(async s=>(s>0&&await xb(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&tl(i)&&Date.now()+o-r<lr})}catch(r){if(this._debug(n,"error",r),A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await kn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ur(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:rl()}else if(s&&!s.user&&!s.user){const o=await kn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Wt(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,s)):s.user=rl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<el;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${el}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),tl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new da;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ze;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={data:null,error:i};return tl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ur(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=rf(s);await ur(this.storage,this.storageKey,i)}else{const s=rf(n);await ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lr}ms, refresh threshold is ${Eu} ticks`),s<=Eu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Xb(e.webauthn.credential_response):Zb(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Qb(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Yb(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=nl(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await N(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ze})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const o=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await N(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ze})})}catch(e){if(A(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await N(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ze})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+ab>s)return r;const{data:i,error:o}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:y}=await this.getSession();if(y||!f.session)return this._returnResult({data:null,error:y});r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=nl(r);n!=null&&n.allowExpired||jb(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=Rb(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,gb(`${a}.${l}`)))throw new Cu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}}Xs.nextInstanceID={};const l1=Xs;class u1 extends l1{constructor(e){super(e)}}class c1{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=nb(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:GS,realtime:QS,auth:Object.assign(Object.assign({},JS),{storageKey:l}),global:KS},c=tb(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=ZS(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new rS(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new WS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new eS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u1({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _S(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d1=(t,e,n)=>new c1(t,e,n);function h1(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}h1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f1="https://ymwvnqvicnetqwstaumq.supabase.co",p1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJib2x0IiwicmVmIjoiMGVjOTBiNTdkNmU5NWZjYmRhMTk4MzJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4ODE1NzQsImV4cCI6MTc1ODg4MTU3NH0.9I8-U0x86Ak8t2DGaIk0HfvTSLsAyzdnz-Nw00mMkKw",Oe=d1(f1,p1),Ky=S.createContext(),m1=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(null),[i,o]=S.useState(!0),[a,l]=S.useState(null);S.useEffect(()=>{(async()=>{var _,g;const{data:w}=await Oe.auth.getSession();if(l(w.session),n(((_=w.session)==null?void 0:_.user)||null),(g=w.session)!=null&&g.user){const{data:p}=await Oe.from("users").select("*").eq("id",w.session.user.id).maybeSingle();s(p)}o(!1)})();const{data:y}=Oe.auth.onAuthStateChange((w,_)=>{l(_),n((_==null?void 0:_.user)||null),_!=null&&_.user?(async()=>{const{data:g}=await Oe.from("users").select("*").eq("id",_.user.id).maybeSingle();s(g)})():s(null),o(!1)});return()=>{var w;(w=y==null?void 0:y.subscription)==null||w.unsubscribe()}},[]);const u=async(f,y,w)=>{const{data:_,error:g}=await Oe.auth.signUp({email:f,password:y,options:{data:w}});if(g)throw g;if(_.user){const{error:p}=await Oe.from("users").insert([{id:_.user.id,email:f,...w}]);if(p)throw p}return _},c=async(f,y)=>{const{data:w,error:_}=await Oe.auth.signInWithPassword({email:f,password:y});if(_)throw _;return w},d=async()=>{const{error:f}=await Oe.auth.signOut();if(f)throw f},h=async f=>{const{data:y,error:w}=await Oe.from("users").update(f).eq("id",e.id).select().maybeSingle();if(w)throw w;return s(y),y};return v.jsx(Ky.Provider,{value:{user:e,profile:r,session:a,loading:i,signUp:u,signIn:c,signOut:d,updateProfile:h},children:t})},Xn=()=>{const t=S.useContext(Ky);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},ss=({children:t,requiredRole:e=null})=>{const{user:n,profile:r,loading:s}=Xn();return s?v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):n?e&&(r==null?void 0:r.role)!==e?v.jsx(Js,{to:"/dashboard",replace:!0}):t:v.jsx(Js,{to:"/login",replace:!0})},Gy=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ha=S.createContext({}),fa=S.createContext(null),pa=typeof document<"u",Qc=pa?S.useLayoutEffect:S.useEffect,Jy=S.createContext({strict:!1}),Yc=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),g1="framerAppearId",Qy="data-"+Yc(g1);function y1(t,e,n,r){const{visualElement:s}=S.useContext(ha),i=S.useContext(Jy),o=S.useContext(fa),a=S.useContext(Gy).reducedMotion,l=S.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(n,o)});const c=S.useRef(!!(n[Qy]&&!window.HandoffComplete));return Qc(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Sr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function v1(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sr(n)&&(n.current=r))},[e])}function Zs(t){return typeof t=="string"||Array.isArray(t)}function ma(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Xc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zc=["initial",...Xc];function ga(t){return ma(t.animate)||Zc.some(e=>Zs(t[e]))}function Yy(t){return!!(ga(t)||t.variants)}function w1(t,e){if(ga(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zs(n)?n:void 0,animate:Zs(r)?r:void 0}}return t.inherit!==!1?e:{}}function _1(t){const{initial:e,animate:n}=w1(t,S.useContext(ha));return S.useMemo(()=>({initial:e,animate:n}),[df(e),df(n)])}function df(t){return Array.isArray(t)?t.join(" "):t}const hf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ei={};for(const t in hf)ei[t]={isEnabled:e=>hf[t].some(n=>!!e[n])};function x1(t){for(const e in t)ei[e]={...ei[e],...t[e]}}const ed=S.createContext({}),Xy=S.createContext({}),S1=Symbol.for("motionComponentSymbol");function b1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&x1(t);function i(a,l){let u;const c={...S.useContext(Gy),...a,layoutId:k1(a)},{isStatic:d}=c,h=_1(a),f=r(a,d);if(!d&&pa){h.visualElement=y1(s,f,c,e);const y=S.useContext(Xy),w=S.useContext(Jy).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,t,y))}return S.createElement(ha.Provider,{value:h},u&&h.visualElement?S.createElement(u,{visualElement:h.visualElement,...c}):null,n(s,a,v1(f,h.visualElement,l),f,d,h.visualElement))}const o=S.forwardRef(i);return o[S1]=s,o}function k1({layoutId:t}){const e=S.useContext(ed).id;return e&&t!==void 0?e+"-"+t:t}function E1(t){function e(r,s={}){return b1(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const P1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function td(t){return typeof t!="string"||t.includes("-")?!1:!!(P1.indexOf(t)>-1||/[A-Z]/.test(t))}const Mo={};function T1(t){Object.assign(Mo,t)}const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zn=new Set(di);function Zy(t,{layout:e,layoutId:n}){return Zn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mo[t]||t==="opacity")}const Be=t=>!!(t&&t.getVelocity),C1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j1=di.length;function R1(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<j1;o++){const a=di[o];if(t[a]!==void 0){const l=C1[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const ev=t=>e=>typeof e=="string"&&e.startsWith(t),tv=ev("--"),ju=ev("var(--"),O1=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,A1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fn=(t,e,n)=>Math.min(Math.max(n,t),e),er={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ps={...er,transform:t=>fn(0,1,t)},Fi={...er,default:1},Ts=t=>Math.round(t*1e5)/1e5,ya=/(-)?([\d]*\.?[\d])+/g,nv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,N1=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hi(t){return typeof t=="string"}const fi=t=>({test:e=>hi(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ht=fi("deg"),Et=fi("%"),I=fi("px"),I1=fi("vh"),D1=fi("vw"),ff={...Et,parse:t=>Et.parse(t)/100,transform:t=>Et.transform(t*100)},pf={...er,transform:Math.round},rv={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,size:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,rotate:Ht,rotateX:Ht,rotateY:Ht,rotateZ:Ht,scale:Fi,scaleX:Fi,scaleY:Fi,scaleZ:Fi,skew:Ht,skewX:Ht,skewY:Ht,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:Ps,originX:ff,originY:ff,originZ:I,zIndex:pf,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:pf};function nd(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(tv(d)){i[d]=h;continue}const f=rv[d],y=A1(h,f);if(Zn.has(d)){if(l=!0,o[d]=y,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=y):s[d]=y}if(e.transform||(l||r?s.transform=R1(t.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${h} ${f}`}}const rd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sv(t,e,n){for(const r in e)!Be(e[r])&&!Zy(r,n)&&(t[r]=e[r])}function L1({transformTemplate:t},e,n){return S.useMemo(()=>{const r=rd();return nd(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function M1(t,e,n){const r=t.style||{},s={};return sv(s,r,t),Object.assign(s,L1(t,e,n)),t.transformValues?t.transformValues(s):s}function U1(t,e,n){const r={},s=M1(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const $1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$1.has(t)}let iv=t=>!Uo(t);function V1(t){t&&(iv=e=>e.startsWith("on")?!Uo(e):t(e))}try{V1(require("@emotion/is-prop-valid").default)}catch{}function B1(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iv(s)||n===!0&&Uo(s)||!e&&!Uo(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function mf(t,e,n){return typeof t=="string"?t:I.transform(e+n*t)}function F1(t,e,n){const r=mf(e,t.x,t.width),s=mf(n,t.y,t.height);return`${r} ${s}`}const z1={offset:"stroke-dashoffset",array:"stroke-dasharray"},W1={offset:"strokeDashoffset",array:"strokeDasharray"};function H1(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?z1:W1;t[i.offset]=I.transform(-r);const o=I.transform(e),a=I.transform(n);t[i.array]=`${o} ${a}`}function sd(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(nd(t,u,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:y,dimensions:w}=t;f.transform&&(w&&(y.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=F1(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&H1(f,o,a,l,!1)}const ov=()=>({...rd(),attrs:{}}),id=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q1(t,e,n,r){const s=S.useMemo(()=>{const i=ov();return sd(i,e,{enableHardwareAcceleration:!1},id(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};sv(i,t.style,t),s.style={...i,...s.style}}return s}function K1(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(td(n)?q1:U1)(r,i,o,n),c={...B1(r,typeof n=="string",t),...l,ref:s},{children:d}=r,h=S.useMemo(()=>Be(d)?d.get():d,[d]);return S.createElement(n,{...c,children:h})}}function av(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const lv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uv(t,e,n,r){av(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(lv.has(s)?s:Yc(s),e.attrs[s])}function od(t,e){const{style:n}=t,r={};for(const s in n)(Be(n[s])||e.style&&Be(e.style[s])||Zy(s,t))&&(r[s]=n[s]);return r}function cv(t,e){const n=od(t,e);for(const r in t)if(Be(t[r])||Be(e[r])){const s=di.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function ad(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function dv(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const $o=t=>Array.isArray(t),G1=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),J1=t=>$o(t)?t[t.length-1]||0:t;function so(t){const e=Be(t)?t.get():t;return G1(e)?e.toValue():e}function Q1({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:Y1(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const hv=t=>(e,n)=>{const r=S.useContext(ha),s=S.useContext(fa),i=()=>Q1(t,e,r,s);return n?i():dv(i)};function Y1(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=so(i[h]);let{initial:o,animate:a}=t;const l=ga(t),u=Yy(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!ma(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const y=ad(t,f);if(!y)return;const{transitionEnd:w,transition:_,...g}=y;for(const p in g){let m=g[p];if(Array.isArray(m)){const x=c?m.length-1:0;m=m[x]}m!==null&&(s[p]=m)}for(const p in w)s[p]=w[p]}),s}const ie=t=>t;class gf{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function X1(t){let e=new gf,n=new gf,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,h=d?e:n;return u&&o.add(l),h.add(l)&&d&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const zi=["prepare","read","update","preRender","render","postRender"],Z1=40;function ek(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=zi.reduce((d,h)=>(d[h]=X1(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,Z1),1),s.timestamp=d,s.isProcessing=!0,zi.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:zi.reduce((d,h)=>{const f=i[h];return d[h]=(y,w=!1,_=!1)=>(n||l(),f.schedule(y,w,_)),d},{}),cancel:d=>zi.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:W,cancel:Vt,state:ke,steps:il}=ek(typeof requestAnimationFrame<"u"?requestAnimationFrame:ie,!0),tk={useVisualState:hv({scrapeMotionValuesFromProps:cv,createRenderState:ov,onMount:(t,e,{renderState:n,latestValues:r})=>{W.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),W.render(()=>{sd(n,r,{enableHardwareAcceleration:!1},id(e.tagName),t.transformTemplate),uv(e,n)})}})},nk={useVisualState:hv({scrapeMotionValuesFromProps:od,createRenderState:rd})};function rk(t,{forwardMotionProps:e=!1},n,r){return{...td(t)?tk:nk,preloadedFeatures:n,useRender:K1(e),createVisualElement:r,Component:t}}function At(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const fv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function va(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sk=t=>e=>fv(e)&&t(e,va(e));function It(t,e,n,r){return At(t,e,sk(n),r)}const ik=(t,e)=>n=>e(t(n)),cn=(...t)=>t.reduce(ik);function pv(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const yf=pv("dragHorizontal"),vf=pv("dragVertical");function mv(t){let e=!1;if(t==="y")e=vf();else if(t==="x")e=yf();else{const n=yf(),r=vf();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function gv(){const t=mv(!0);return t?(t(),!1):!0}class wn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wf(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||gv())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&W.update(()=>a[r](i,o))};return It(t.current,n,s,{passive:!t.getProps()[r]})}class ok extends wn{mount(){this.unmount=cn(wf(this.node,!0),wf(this.node,!1))}unmount(){}}class ak extends wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cn(At(this.node.current,"focus",()=>this.onFocus()),At(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yv=(t,e)=>e?t===e?!0:yv(t,e.parentElement):!1;function ol(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,va(n))}class lk extends wn{constructor(){super(...arguments),this.removeStartListeners=ie,this.removeEndListeners=ie,this.removeAccessibleListeners=ie,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=It(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();W.update(()=>{!d&&!yv(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=It(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=cn(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ol("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&W.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=At(this.node.current,"keyup",o),ol("down",(a,l)=>{this.startPress(a,l)})},n=At(this.node.current,"keydown",e),r=()=>{this.isPressing&&ol("cancel",(i,o)=>this.cancelPress(i,o))},s=At(this.node.current,"blur",r);this.removeAccessibleListeners=cn(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&W.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gv()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&W.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=It(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=At(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ru=new WeakMap,al=new WeakMap,uk=t=>{const e=Ru.get(t.target);e&&e(t)},ck=t=>{t.forEach(uk)};function dk({root:t,...e}){const n=t||document;al.has(n)||al.set(n,{});const r=al.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(ck,{root:t,...e})),r[s]}function hk(t,e,n){const r=dk(e);return Ru.set(t,n),r.observe(t),()=>{Ru.delete(t),r.unobserve(t)}}const fk={some:0,all:1};class pk extends wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fk[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return hk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mk(e,n))&&this.startObserver()}unmount(){}}function mk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gk={inView:{Feature:pk},tap:{Feature:lk},focus:{Feature:ak},hover:{Feature:ok}};function vv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function yk(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function vk(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function wa(t,e,n){const r=t.getProps();return ad(r,e,n!==void 0?n:r.custom,yk(t),vk(t))}let ld=ie;const zn=t=>t*1e3,Dt=t=>t/1e3,wk={current:!1},wv=t=>Array.isArray(t)&&typeof t[0]=="number";function _v(t){return!!(!t||typeof t=="string"&&xv[t]||wv(t)||Array.isArray(t)&&t.every(_v))}const ps=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ps([0,.65,.55,1]),circOut:ps([.55,0,1,.45]),backIn:ps([.31,.01,.66,-.59]),backOut:ps([.33,1.53,.69,.99])};function Sv(t){if(t)return wv(t)?ps(t):Array.isArray(t)?t.map(Sv):xv[t]}function _k(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=Sv(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function xk(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const bv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Sk=1e-7,bk=12;function kk(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=bv(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Sk&&++a<bk);return o}function pi(t,e,n,r){if(t===e&&n===r)return ie;const s=i=>kk(i,0,1,t,n);return i=>i===0||i===1?i:bv(s(i),e,r)}const Ek=pi(.42,0,1,1),Pk=pi(0,0,.58,1),kv=pi(.42,0,.58,1),Tk=t=>Array.isArray(t)&&typeof t[0]!="number",Ev=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Pv=t=>e=>1-t(1-e),ud=t=>1-Math.sin(Math.acos(t)),Tv=Pv(ud),Ck=Ev(ud),Cv=pi(.33,1.53,.69,.99),cd=Pv(Cv),jk=Ev(cd),Rk=t=>(t*=2)<1?.5*cd(t):.5*(2-Math.pow(2,-10*(t-1))),Ok={linear:ie,easeIn:Ek,easeInOut:kv,easeOut:Pk,circIn:ud,circInOut:Ck,circOut:Tv,backIn:cd,backInOut:jk,backOut:Cv,anticipate:Rk},_f=t=>{if(Array.isArray(t)){ld(t.length===4);const[e,n,r,s]=t;return pi(e,n,r,s)}else if(typeof t=="string")return Ok[t];return t},dd=(t,e)=>n=>!!(hi(n)&&N1.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),jv=(t,e,n)=>r=>{if(!hi(r))return r;const[s,i,o,a]=r.match(ya);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ak=t=>fn(0,255,t),ll={...er,transform:t=>Math.round(Ak(t))},$n={test:dd("rgb","red"),parse:jv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ll.transform(t)+", "+ll.transform(e)+", "+ll.transform(n)+", "+Ts(Ps.transform(r))+")"};function Nk(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ou={test:dd("#"),parse:Nk,transform:$n.transform},br={test:dd("hsl","hue"),parse:jv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Et.transform(Ts(e))+", "+Et.transform(Ts(n))+", "+Ts(Ps.transform(r))+")"},je={test:t=>$n.test(t)||Ou.test(t)||br.test(t),parse:t=>$n.test(t)?$n.parse(t):br.test(t)?br.parse(t):Ou.parse(t),transform:t=>hi(t)?t:t.hasOwnProperty("red")?$n.transform(t):br.transform(t)},X=(t,e,n)=>-n*t+n*e+t;function ul(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ik({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ul(l,a,t+1/3),i=ul(l,a,t),o=ul(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const cl=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Dk=[Ou,$n,br],Lk=t=>Dk.find(e=>e.test(t));function xf(t){const e=Lk(t);let n=e.parse(t);return e===br&&(n=Ik(n)),n}const Rv=(t,e)=>{const n=xf(t),r=xf(e),s={...n};return i=>(s.red=cl(n.red,r.red,i),s.green=cl(n.green,r.green,i),s.blue=cl(n.blue,r.blue,i),s.alpha=X(n.alpha,r.alpha,i),$n.transform(s))};function Mk(t){var e,n;return isNaN(t)&&hi(t)&&(((e=t.match(ya))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(nv))===null||n===void 0?void 0:n.length)||0)>0}const Ov={regex:O1,countKey:"Vars",token:"${v}",parse:ie},Av={regex:nv,countKey:"Colors",token:"${c}",parse:je.parse},Nv={regex:ya,countKey:"Numbers",token:"${n}",parse:er.parse};function dl(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Vo(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&dl(n,Ov),dl(n,Av),dl(n,Nv),n}function Iv(t){return Vo(t).values}function Dv(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Vo(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(Ov.token,o[l]):l<r+n?a=a.replace(Av.token,je.transform(o[l])):a=a.replace(Nv.token,Ts(o[l]));return a}}const Uk=t=>typeof t=="number"?0:t;function $k(t){const e=Iv(t);return Dv(t)(e.map(Uk))}const pn={test:Mk,parse:Iv,createTransformer:Dv,getAnimatableNone:$k},Lv=(t,e)=>n=>`${n>0?e:t}`;function Mv(t,e){return typeof t=="number"?n=>X(t,e,n):je.test(t)?Rv(t,e):t.startsWith("var(")?Lv(t,e):$v(t,e)}const Uv=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Mv(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},Vk=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Mv(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},$v=(t,e)=>{const n=pn.createTransformer(e),r=Vo(t),s=Vo(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?cn(Uv(r.values,s.values),n):Lv(t,e)},ti=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Sf=(t,e)=>n=>X(t,e,n);function Bk(t){return typeof t=="number"?Sf:typeof t=="string"?je.test(t)?Rv:$v:Array.isArray(t)?Uv:typeof t=="object"?Vk:Sf}function Fk(t,e,n){const r=[],s=n||Bk(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ie:e;a=cn(l,a)}r.push(a)}return r}function Vv(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ld(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Fk(e,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=ti(t[c],t[c+1],u);return o[c](d)};return n?u=>l(fn(t[0],t[i-1],u)):l}function zk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ti(0,e,r);t.push(X(n,1,s))}}function Wk(t){const e=[0];return zk(e,t.length-1),e}function Hk(t,e){return t.map(n=>n*e)}function qk(t,e){return t.map(()=>e||kv).splice(0,t.length-1)}function Bo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Tk(r)?r.map(_f):_f(r),i={done:!1,value:e[0]},o=Hk(n&&n.length===e.length?n:Wk(e),t),a=Vv(o,e,{ease:Array.isArray(s)?s:qk(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function Bv(t,e){return e?t*(1e3/e):0}const Kk=5;function Fv(t,e,n){const r=Math.max(e-Kk,0);return Bv(n-t(r),e-r)}const hl=.001,Gk=.01,Jk=10,Qk=.05,Yk=1;function Xk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=fn(Qk,Yk,o),t=fn(Gk,Jk,Dt(t)),o<1?(s=u=>{const c=u*o,d=c*t,h=c-n,f=Au(u,o),y=Math.exp(-d);return hl-h/f*y},i=u=>{const d=u*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),w=Au(Math.pow(u,2),o);return(-s(u)+hl>0?-1:1)*((h-f)*y)/w}):(s=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-hl+c*d},i=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=eE(s,i,a);if(t=zn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Zk=12;function eE(t,e,n){let r=n;for(let s=1;s<Zk;s++)r=r-t(r)/e(r);return r}function Au(t,e){return t*Math.sqrt(1-e*e)}const tE=["duration","bounce"],nE=["stiffness","damping","mass"];function bf(t,e){return e.some(n=>t[n]!==void 0)}function rE(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!bf(t,nE)&&bf(t,tE)){const n=Xk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function zv({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=rE({...r,velocity:-Dt(r.velocity||0)}),f=d||0,y=l/(2*Math.sqrt(a*u)),w=i-s,_=Dt(Math.sqrt(a/u)),g=Math.abs(w)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let p;if(y<1){const m=Au(_,y);p=x=>{const b=Math.exp(-y*_*x);return i-b*((f+y*_*w)/m*Math.sin(m*x)+w*Math.cos(m*x))}}else if(y===1)p=m=>i-Math.exp(-_*m)*(w+(f+_*w)*m);else{const m=_*Math.sqrt(y*y-1);p=x=>{const b=Math.exp(-y*_*x),k=Math.min(m*x,300);return i-b*((f+y*_*w)*Math.sinh(k)+m*w*Math.cosh(k))/m}}return{calculatedDuration:h&&c||null,next:m=>{const x=p(m);if(h)o.done=m>=c;else{let b=f;m!==0&&(y<1?b=Fv(p,m,x):b=0);const k=Math.abs(b)<=n,E=Math.abs(i-x)<=e;o.done=k&&E}return o.value=o.done?i:x,o}}}function kf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=P=>a!==void 0&&P<a||l!==void 0&&P>l,y=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let w=n*e;const _=d+w,g=o===void 0?_:o(_);g!==_&&(w=g-d);const p=P=>-w*Math.exp(-P/r),m=P=>g+p(P),x=P=>{const R=p(P),D=m(P);h.done=Math.abs(R)<=u,h.value=h.done?g:D};let b,k;const E=P=>{f(h.value)&&(b=P,k=zv({keyframes:[h.value,y(h.value)],velocity:Fv(m,P,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:P=>{let R=!1;return!k&&b===void 0&&(R=!0,x(P),E(P)),b!==void 0&&P>b?k.next(P-b):(!R&&x(P),h)}}}const sE=t=>{const e=({timestamp:n})=>t(n);return{start:()=>W.update(e,!0),stop:()=>Vt(e),now:()=>ke.isProcessing?ke.timestamp:performance.now()}},Ef=2e4;function Pf(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ef;)e+=n,r=t.next(e);return e>=Ef?1/0:e}const iE={decay:kf,inertia:kf,tween:Bo,keyframes:Bo,spring:zv};function Fo({autoplay:t=!0,delay:e=0,driver:n=sE,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,y=!1,w,_;const g=()=>{_=new Promise(M=>{w=M})};g();let p;const m=iE[s]||Bo;let x;m!==Bo&&typeof r[0]!="number"&&(x=Vv([0,100],r,{clamp:!1}),r=[0,100]);const b=m({...h,keyframes:r});let k;a==="mirror"&&(k=m({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",P=null,R=null,D=null;b.calculatedDuration===null&&i&&(b.calculatedDuration=Pf(b));const{calculatedDuration:fe}=b;let ye=1/0,Ce=1/0;fe!==null&&(ye=fe+o,Ce=ye*(i+1)-o);let pe=0;const Ft=M=>{if(R===null)return;f>0&&(R=Math.min(R,M)),f<0&&(R=Math.min(M-Ce/f,R)),P!==null?pe=P:pe=Math.round(M-R)*f;const K=pe-e*(f>=0?1:-1),_n=f>=0?K<0:K>Ce;pe=Math.max(K,0),E==="finished"&&P===null&&(pe=Ce);let wt=pe,tr=b;if(i){const Sa=Math.min(pe,Ce)/ye;let mi=Math.floor(Sa),Sn=Sa%1;!Sn&&Sa>=1&&(Sn=1),Sn===1&&mi--,mi=Math.min(mi,i+1),!!(mi%2)&&(a==="reverse"?(Sn=1-Sn,o&&(Sn-=o/ye)):a==="mirror"&&(tr=k)),wt=fn(0,1,Sn)*ye}const Fe=_n?{done:!1,value:r[0]}:tr.next(wt);x&&(Fe.value=x(Fe.value));let{done:xn}=Fe;!_n&&fe!==null&&(xn=f>=0?pe>=Ce:pe<=0);const k0=P===null&&(E==="finished"||E==="running"&&xn);return d&&d(Fe.value),k0&&C(),Fe},re=()=>{p&&p.stop(),p=void 0},Ze=()=>{E="idle",re(),w(),g(),R=D=null},C=()=>{E="finished",c&&c(),re(),w()},L=()=>{if(y)return;p||(p=n(Ft));const M=p.now();l&&l(),P!==null?R=M-P:(!R||E==="finished")&&(R=M),E==="finished"&&g(),D=R,P=null,E="running",p.start()};t&&L();const U={then(M,K){return _.then(M,K)},get time(){return Dt(pe)},set time(M){M=zn(M),pe=M,P!==null||!p||f===0?P=M:R=p.now()-M/f},get duration(){const M=b.calculatedDuration===null?Pf(b):b.calculatedDuration;return Dt(M)},get speed(){return f},set speed(M){M===f||!p||(f=M,U.time=Dt(pe))},get state(){return E},play:L,pause:()=>{E="paused",P=pe},stop:()=>{y=!0,E!=="idle"&&(E="idle",u&&u(),Ze())},cancel:()=>{D!==null&&Ft(D),Ze()},complete:()=>{E="finished"},sample:M=>(R=0,Ft(M))};return U}function oE(t){let e;return()=>(e===void 0&&(e=t()),e)}const aE=oE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wi=10,uE=2e4,cE=(t,e)=>e.type==="spring"||t==="backgroundColor"||!_v(e.ease);function dE(t,e,{onUpdate:n,onComplete:r,...s}){if(!(aE()&&lE.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(m=>{a=m})};c();let{keyframes:d,duration:h=300,ease:f,times:y}=s;if(cE(e,s)){const m=Fo({...s,repeat:0,delay:0});let x={done:!1,value:d[0]};const b=[];let k=0;for(;!x.done&&k<uE;)x=m.sample(k),b.push(x.value),k+=Wi;y=void 0,d=b,h=k-Wi,f="linear"}const w=_k(t.owner.current,e,d,{...s,duration:h,ease:f,times:y}),_=()=>{u=!1,w.cancel()},g=()=>{u=!0,W.update(_),a(),c()};return w.onfinish=()=>{u||(t.set(xk(d,s)),r&&r(),g())},{then(m,x){return l.then(m,x)},attachTimeline(m){return w.timeline=m,w.onfinish=null,ie},get time(){return Dt(w.currentTime||0)},set time(m){w.currentTime=zn(m)},get speed(){return w.playbackRate},set speed(m){w.playbackRate=m},get duration(){return Dt(h)},play:()=>{o||(w.play(),Vt(_))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:m}=w;if(m){const x=Fo({...s,autoplay:!1});t.setWithVelocity(x.sample(m-Wi).value,x.sample(m).value,Wi)}g()},complete:()=>{u||w.finish()},cancel:g}}function hE({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ie,pause:ie,stop:ie,then:i=>(i(),Promise.resolve()),cancel:ie,complete:ie});return e?Fo({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const fE={type:"spring",stiffness:500,damping:25,restSpeed:10},pE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mE={type:"keyframes",duration:.8},gE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yE=(t,{keyframes:e})=>e.length>2?mE:Zn.has(t)?t.startsWith("scale")?pE(e[1]):fE:gE,Nu=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pn.test(e)||e==="0")&&!e.startsWith("url(")),vE=new Set(["brightness","contrast","saturate","opacity"]);function wE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ya)||[];if(!r)return t;const s=n.replace(r,"");let i=vE.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const _E=/([a-z-]*)\(.*?\)/g,Iu={...pn,getAnimatableNone:t=>{const e=t.match(_E);return e?e.map(wE).join(" "):t}},xE={...rv,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Iu,WebkitFilter:Iu},hd=t=>xE[t];function Wv(t,e){let n=hd(t);return n!==Iu&&(n=pn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hv=t=>/^0[^.\s]+$/.test(t);function SE(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Hv(t)}function bE(t,e,n,r){const s=Nu(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),SE(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=Wv(e,a)}return i}function kE({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function fd(t,e){return t[e]||t.default||t}const EE={skipAnimations:!1},pd=(t,e,n,r={})=>s=>{const i=fd(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-zn(o);const l=bE(e,t,n,i),u=l[0],c=l[l.length-1],d=Nu(t,u),h=Nu(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:y=>{e.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(kE(i)||(f={...f,...yE(t,f)}),f.duration&&(f.duration=zn(f.duration)),f.repeatDelay&&(f.repeatDelay=zn(f.repeatDelay)),!d||!h||wk.current||i.type===!1||EE.skipAnimations)return hE(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=dE(e,t,f);if(y)return y}return Fo(f)};function zo(t){return!!(Be(t)&&t.add)}const qv=t=>/^\-?\d*\.?\d+$/.test(t);function md(t,e){t.indexOf(e)===-1&&t.push(e)}function gd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yd{constructor(){this.subscriptions=[]}add(e){return md(this.subscriptions,e),()=>gd(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const PE=t=>!isNaN(parseFloat(t));class TE{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ke;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,W.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>W.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=PE(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yd);const r=this.events[e].add(n);return e==="change"?()=>{r(),W.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Bv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Br(t,e){return new TE(t,e)}const Kv=t=>e=>e.test(t),CE={test:t=>t==="auto",parse:t=>t},Gv=[er,I,Et,Ht,D1,I1,CE],is=t=>Gv.find(Kv(t)),jE=[...Gv,je,pn],RE=t=>jE.find(Kv(t));function OE(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Br(n))}function AE(t,e){const n=wa(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=J1(i[o]);OE(t,o,a)}}function NE(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(qv(c)||Hv(c))?c=parseFloat(c):!RE(c)&&pn.test(u)&&(c=Wv(l,u)),t.addValue(l,Br(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function IE(t,e){return e?(e[t]||e.default||e).from:void 0}function DE(t,e,n){const r={};for(const s in t){const i=IE(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function LE({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ME(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Jv(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||c&&LE(c,d))continue;const y={delay:n,elapsed:0,...fd(i||{},d)};if(window.HandoffAppearAnimations){const g=t.getProps()[Qy];if(g){const p=window.HandoffAppearAnimations(g,d,h,W);p!==null&&(y.elapsed=p,y.isHandoff=!0)}}let w=!y.isHandoff&&!ME(h,f);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(pd(d,h,f,t.shouldReduceMotion&&Zn.has(d)?{type:!1}:y));const _=h.animation;zo(l)&&(l.add(d),_.then(()=>l.remove(d))),u.push(_)}return o&&Promise.all(u).then(()=>{o&&AE(t,o)}),u}function Du(t,e,n={}){const r=wa(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Jv(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return UE(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function UE(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort($E).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Du(u,e,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function $E(t,e){return t.sortNodePosition(e)}function VE(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Du(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Du(t,e,n);else{const s=typeof e=="function"?wa(t,e,n.custom):e;r=Promise.all(Jv(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const BE=[...Xc].reverse(),FE=Xc.length;function zE(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VE(t,n,r)))}function WE(t){let e=zE(t);const n=qE();let r=!0;const s=(l,u)=>{const c=wa(t,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let y={},w=1/0;for(let g=0;g<FE;g++){const p=BE[g],m=n[p],x=c[p]!==void 0?c[p]:d[p],b=Zs(x),k=p===u?m.isActive:null;k===!1&&(w=g);let E=x===d[p]&&x!==c[p]&&b;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),m.protectedKeys={...y},!m.isActive&&k===null||!x&&!m.prevProp||ma(x)||typeof x=="boolean")continue;let R=HE(m.prevProp,x)||p===u&&m.isActive&&!E&&b||g>w&&b,D=!1;const fe=Array.isArray(x)?x:[x];let ye=fe.reduce(s,{});k===!1&&(ye={});const{prevResolvedValues:Ce={}}=m,pe={...Ce,...ye},Ft=re=>{R=!0,f.has(re)&&(D=!0,f.delete(re)),m.needsAnimating[re]=!0};for(const re in pe){const Ze=ye[re],C=Ce[re];if(y.hasOwnProperty(re))continue;let L=!1;$o(Ze)&&$o(C)?L=!vv(Ze,C):L=Ze!==C,L?Ze!==void 0?Ft(re):f.add(re):Ze!==void 0&&f.has(re)?Ft(re):m.protectedKeys[re]=!0}m.prevProp=x,m.prevResolvedValues=ye,m.isActive&&(y={...y,...ye}),r&&t.blockInitialAnimation&&(R=!1),R&&(!E||D)&&h.push(...fe.map(re=>({animation:re,options:{type:p,...l}})))}if(f.size){const g={};f.forEach(p=>{const m=t.getBaseTarget(p);m!==void 0&&(g[p]=m)}),h.push({animation:g})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function HE(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vv(e,t):!1}function En(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qE(){return{animate:En(!0),whileInView:En(),whileHover:En(),whileTap:En(),whileDrag:En(),whileFocus:En(),exit:En()}}class KE extends wn{constructor(e){super(e),e.animationState||(e.animationState=WE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ma(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let GE=0;class JE extends wn{constructor(){super(...arguments),this.id=GE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QE={animation:{Feature:KE},exit:{Feature:JE}},Tf=(t,e)=>Math.abs(t-e);function YE(t,e){const n=Tf(t.x,e.x),r=Tf(t.y,e.y);return Math.sqrt(n**2+r**2)}class Qv{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=pl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=YE(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:y}=d,{timestamp:w}=ke;this.history.push({...y,timestamp:w});const{onStart:_,onMove:g}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=fl(h,this.transformPagePoint),W.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=pl(d.type==="pointercancel"?this.lastMoveEventInfo:fl(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,_),y&&y(d,_)},!fv(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=va(e),a=fl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ke;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,pl(a,this.history)),this.removeListeners=cn(It(this.contextWindow,"pointermove",this.handlePointerMove),It(this.contextWindow,"pointerup",this.handlePointerUp),It(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vt(this.updatePoint)}}function fl(t,e){return e?{point:e(t.point)}:t}function Cf(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pl({point:t},e){return{point:t,delta:Cf(t,Yv(e)),offset:Cf(t,XE(e)),velocity:ZE(e,.1)}}function XE(t){return t[0]}function Yv(t){return t[t.length-1]}function ZE(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Yv(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>zn(e)));)n--;if(!r)return{x:0,y:0};const i=Dt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qe(t){return t.max-t.min}function Lu(t,e=0,n=.01){return Math.abs(t-e)<=n}function jf(t,e,n,r=.5){t.origin=r,t.originPoint=X(e.min,e.max,t.origin),t.scale=Qe(n)/Qe(e),(Lu(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=X(n.min,n.max,t.origin)-t.originPoint,(Lu(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Cs(t,e,n,r){jf(t.x,e.x,n.x,r?r.originX:void 0),jf(t.y,e.y,n.y,r?r.originY:void 0)}function Rf(t,e,n){t.min=n.min+e.min,t.max=t.min+Qe(e)}function eP(t,e,n){Rf(t.x,e.x,n.x),Rf(t.y,e.y,n.y)}function Of(t,e,n){t.min=e.min-n.min,t.max=t.min+Qe(e)}function js(t,e,n){Of(t.x,e.x,n.x),Of(t.y,e.y,n.y)}function tP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?X(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?X(n,t,r.max):Math.min(t,n)),t}function Af(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nP(t,{top:e,left:n,bottom:r,right:s}){return{x:Af(t.x,n,s),y:Af(t.y,e,r)}}function Nf(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rP(t,e){return{x:Nf(t.x,e.x),y:Nf(t.y,e.y)}}function sP(t,e){let n=.5;const r=Qe(t),s=Qe(e);return s>r?n=ti(e.min,e.max-r,t.min):r>s&&(n=ti(t.min,t.max-s,e.min)),fn(0,1,n)}function iP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mu=.35;function oP(t=Mu){return t===!1?t=0:t===!0&&(t=Mu),{x:If(t,"left","right"),y:If(t,"top","bottom")}}function If(t,e,n){return{min:Df(t,e),max:Df(t,n)}}function Df(t,e){return typeof t=="number"?t:t[e]||0}const Lf=()=>({translate:0,scale:1,origin:0,originPoint:0}),kr=()=>({x:Lf(),y:Lf()}),Mf=()=>({min:0,max:0}),oe=()=>({x:Mf(),y:Mf()});function tt(t){return[t("x"),t("y")]}function Xv({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ml(t){return t===void 0||t===1}function Uu({scale:t,scaleX:e,scaleY:n}){return!ml(t)||!ml(e)||!ml(n)}function jn(t){return Uu(t)||Zv(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Zv(t){return Uf(t.x)||Uf(t.y)}function Uf(t){return t&&t!=="0%"}function Wo(t,e,n){const r=t-n,s=e*r;return n+s}function $f(t,e,n,r,s){return s!==void 0&&(t=Wo(t,s,r)),Wo(t,n,r)+e}function $u(t,e=0,n=1,r,s){t.min=$f(t.min,e,n,r,s),t.max=$f(t.max,e,n,r,s)}function e0(t,{x:e,y:n}){$u(t.x,e.translate,e.scale,e.originPoint),$u(t.y,n.translate,n.scale,n.originPoint)}function uP(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Er(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,e0(t,o)),r&&jn(i.latestValues)&&Er(t,i.latestValues))}e.x=Vf(e.x),e.y=Vf(e.y)}function Vf(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Gt(t,e){t.min=t.min+e,t.max=t.max+e}function Bf(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=X(t.min,t.max,i);$u(t,e[n],e[r],o,e.scale)}const cP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function Er(t,e){Bf(t.x,e,cP),Bf(t.y,e,dP)}function t0(t,e){return Xv(lP(t.getBoundingClientRect(),e))}function hP(t,e,n){const r=t0(t,n),{scroll:s}=e;return s&&(Gt(r.x,s.offset.x),Gt(r.y,s.offset.y)),r}const n0=({current:t})=>t?t.ownerDocument.defaultView:null,fP=new WeakMap;class pP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(va(c,"page").point)},i=(c,d)=>{const{drag:h,dragPropagation:f,onDragStart:y}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tt(_=>{let g=this.getAxisMotionValue(_).get()||0;if(Et.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const m=p.layout.layoutBox[_];m&&(g=Qe(m)*(parseFloat(g)/100))}}this.originPoint[_]=g}),y&&W.update(()=>y(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:_}=d;if(f&&this.currentDirection===null){this.currentDirection=mP(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),l=()=>tt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Qv(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:n0(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&W.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Hi(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=tP(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Sr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=nP(s.layoutBox,n):this.constraints=!1,this.elastic=oP(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&tt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=iP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=hP(r,s.root,this.visualElement.getTransformPagePoint());let o=rP(s.layout.layoutBox,i);if(n){const a=n(aP(o));this.hasMutatedConstraints=!!a,a&&(o=Xv(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tt(c=>{if(!Hi(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(pd(e,r,0,n))}stopAnimation(){tt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tt(n=>{const{drag:r}=this.getProps();if(!Hi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-X(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};tt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=sP({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tt(o=>{if(!Hi(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(X(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;fP.set(this.visualElement,this);const e=this.visualElement.current,n=It(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Sr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=At(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Mu,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Hi(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gP extends wn{constructor(e){super(e),this.removeGroupControls=ie,this.removeListeners=ie,this.controls=new pP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ff=t=>(e,n)=>{t&&W.update(()=>t(e,n))};class yP extends wn{constructor(){super(...arguments),this.removePointerDownListener=ie}onPointerDown(e){this.session=new Qv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ff(e),onStart:Ff(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&W.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=It(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vP(){const t=S.useContext(fa);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=S.useId();return S.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const io={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zf(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const os={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(I.test(t))t=parseFloat(t);else return t;const n=zf(t,e.target.x),r=zf(t,e.target.y);return`${n}% ${r}%`}},wP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=pn.parse(t);if(s.length>5)return r;const i=pn.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=X(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class _P extends qo.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;T1(xP),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),io.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||W.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r0(t){const[e,n]=vP(),r=S.useContext(ed);return qo.createElement(_P,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Xy),isPresent:e,safeToRemove:n})}const xP={borderRadius:{...os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:os,borderTopRightRadius:os,borderBottomLeftRadius:os,borderBottomRightRadius:os,boxShadow:wP},s0=["TopLeft","TopRight","BottomLeft","BottomRight"],SP=s0.length,Wf=t=>typeof t=="string"?parseFloat(t):t,Hf=t=>typeof t=="number"||I.test(t);function bP(t,e,n,r,s,i){s?(t.opacity=X(0,n.opacity!==void 0?n.opacity:1,kP(r)),t.opacityExit=X(e.opacity!==void 0?e.opacity:1,0,EP(r))):i&&(t.opacity=X(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<SP;o++){const a=`border${s0[o]}Radius`;let l=qf(e,a),u=qf(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Hf(l)===Hf(u)?(t[a]=Math.max(X(Wf(l),Wf(u),r),0),(Et.test(u)||Et.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=X(e.rotate||0,n.rotate||0,r))}function qf(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kP=i0(0,.5,Tv),EP=i0(.5,.95,ie);function i0(t,e,n){return r=>r<t?0:r>e?1:n(ti(t,e,r))}function Kf(t,e){t.min=e.min,t.max=e.max}function et(t,e){Kf(t.x,e.x),Kf(t.y,e.y)}function Gf(t,e,n,r,s){return t-=e,t=Wo(t,1/n,r),s!==void 0&&(t=Wo(t,1/s,r)),t}function PP(t,e=0,n=1,r=.5,s,i=t,o=t){if(Et.test(e)&&(e=parseFloat(e),e=X(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=X(i.min,i.max,r);t===i&&(a-=e),t.min=Gf(t.min,e,n,a,s),t.max=Gf(t.max,e,n,a,s)}function Jf(t,e,[n,r,s],i,o){PP(t,e[n],e[r],e[s],e.scale,i,o)}const TP=["x","scaleX","originX"],CP=["y","scaleY","originY"];function Qf(t,e,n,r){Jf(t.x,e,TP,n?n.x:void 0,r?r.x:void 0),Jf(t.y,e,CP,n?n.y:void 0,r?r.y:void 0)}function Yf(t){return t.translate===0&&t.scale===1}function o0(t){return Yf(t.x)&&Yf(t.y)}function jP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function a0(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Xf(t){return Qe(t.x)/Qe(t.y)}class RP{constructor(){this.members=[]}add(e){md(this.members,e),e.scheduleRender()}remove(e){if(gd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zf(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const OP=(t,e)=>t.depth-e.depth;class AP{constructor(){this.children=[],this.isDirty=!1}add(e){md(this.children,e),this.isDirty=!0}remove(e){gd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OP),this.isDirty=!1,this.children.forEach(e)}}function NP(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Vt(r),t(i-e))};return W.read(r,!0),()=>Vt(r)}function IP(t){window.MotionDebug&&window.MotionDebug.record(t)}function DP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function LP(t,e,n){const r=Be(t)?t:Br(t);return r.start(pd("",r,e,n)),r.animation}const ep=["","X","Y","Z"],MP={visibility:"hidden"},tp=1e3;let UP=0;const Rn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function l0({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=UP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rn.totalNodes=Rn.resolvedTargetDeltas=Rn.recalculatedProjection=0,this.nodes.forEach(BP),this.nodes.forEach(qP),this.nodes.forEach(KP),this.nodes.forEach(FP),IP(Rn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AP)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DP(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=NP(h,250),io.hasAnimatedSinceResize&&(io.hasAnimatedSinceResize=!1,this.nodes.forEach(rp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||XP,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=c.getProps(),p=!this.targetLayout||!a0(this.targetLayout,y)||f,m=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,m);const x={...fd(w,"layout"),onPlay:_,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(np);return}this.isUpdating||this.nodes.forEach(WP),this.isUpdating=!1,this.nodes.forEach(HP),this.nodes.forEach($P),this.nodes.forEach(VP),this.clearAllSnapshots();const a=performance.now();ke.delta=fn(0,1e3/60,a-ke.timestamp),ke.timestamp=a,ke.isProcessing=!0,il.update.process(ke),il.preRender.process(ke),il.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zP),this.sharedNodes.forEach(JP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,W.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){W.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!o0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||jn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ZP(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return oe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Gt(a.x,l.offset.x),Gt(a.y,l.offset.y)),a}removeElementScroll(o){const a=oe();et(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){et(a,o);const{scroll:h}=this.root;h&&(Gt(a.x,-h.offset.x),Gt(a.y,-h.offset.y))}Gt(a.x,c.offset.x),Gt(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=oe();et(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Er(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),jn(c.latestValues)&&Er(l,c.latestValues)}return jn(this.latestValues)&&Er(l,this.latestValues),l}removeTransform(o){const a=oe();et(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jn(u.latestValues))continue;Uu(u.latestValues)&&u.updateSnapshot();const c=oe(),d=u.measurePageBox();et(c,d),Qf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return jn(this.latestValues)&&Qf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ke.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oe(),this.relativeTargetOrigin=oe(),js(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=oe(),this.targetWithTransforms=oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):et(this.target,this.layout.layoutBox),e0(this.target,this.targetDelta)):et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oe(),this.relativeTargetOrigin=oe(),js(this.relativeTargetOrigin,this.target,f.target),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uu(this.parent.latestValues)||Zv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;et(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;uP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=kr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kr(),this.projectionDeltaWithTransform=kr());const w=this.projectionTransform;Cs(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Zf(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Rn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=oe(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=f!==y,_=this.getStack(),g=!_||_.members.length<=1,p=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(YP));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const b=x/1e3;sp(d.x,o.x,b),sp(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(js(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QP(this.relativeTarget,this.relativeTargetOrigin,h,b),m&&jP(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=oe()),et(m,this.relativeTarget)),w&&(this.animationValues=c,bP(c,u,this.latestValues,b,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=W.update(()=>{io.hasAnimatedSinceResize=!0,this.currentAnimation=LP(0,tp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&u0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||oe();const d=Qe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Qe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}et(a,l),Er(a,c),Cs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RP),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<ep.length;c++){const d="rotate"+ep[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MP;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=so(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=so(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!jn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Zf(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Mo){if(h[w]===void 0)continue;const{correct:_,applyTo:g}=Mo[w],p=u.transform==="none"?h[w]:_(h[w],d);if(g){const m=g.length;for(let x=0;x<m;x++)u[g[x]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=d===this?so(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(np),this.root.sharedNodes.clear()}}}function $P(t){t.updateLayout()}function VP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?tt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Qe(h);h.min=r[d].min,h.max=h.min+f}):u0(i,n.layoutBox,r)&&tt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Qe(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=kr();Cs(a,r,n.layoutBox);const l=kr();o?Cs(l,t.applyTransform(s,!0),n.measuredBox):Cs(l,r,n.layoutBox);const u=!o0(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const y=oe();js(y,n.layoutBox,h.layoutBox);const w=oe();js(w,r,f.layoutBox),a0(y,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function BP(t){Rn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zP(t){t.clearSnapshot()}function np(t){t.clearMeasurements()}function WP(t){t.isLayoutDirty=!1}function HP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qP(t){t.resolveTargetDelta()}function KP(t){t.calcProjection()}function GP(t){t.resetRotation()}function JP(t){t.removeLeadSnapshot()}function sp(t,e,n){t.translate=X(e.translate,0,n),t.scale=X(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ip(t,e,n,r){t.min=X(e.min,n.min,r),t.max=X(e.max,n.max,r)}function QP(t,e,n,r){ip(t.x,e.x,n.x,r),ip(t.y,e.y,n.y,r)}function YP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XP={duration:.45,ease:[.4,0,.1,1]},op=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ap=op("applewebkit/")&&!op("chrome/")?Math.round:ie;function lp(t){t.min=ap(t.min),t.max=ap(t.max)}function ZP(t){lp(t.x),lp(t.y)}function u0(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lu(Xf(e),Xf(n),.2)}const eT=l0({attachResizeListener:(t,e)=>At(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gl={current:void 0},c0=l0({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gl.current){const t=new eT({});t.mount(window),t.setOptions({layoutScroll:!0}),gl.current=t}return gl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tT={pan:{Feature:yP},drag:{Feature:gP,ProjectionNode:c0,MeasureLayout:r0}},nT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function rT(t){const e=nT.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Vu(t,e,n=1){const[r,s]=rT(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return qv(o)?parseFloat(o):o}else return ju(s)?Vu(s,e,n+1):s}function sT(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!ju(i))return;const o=Vu(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!ju(i))continue;const o=Vu(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const iT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),d0=t=>iT.has(t),oT=t=>Object.keys(t).some(d0),up=t=>t===er||t===I,cp=(t,e)=>parseFloat(t.split(", ")[e]),dp=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return cp(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?cp(i[1],t):0}},aT=new Set(["x","y","z"]),lT=di.filter(t=>!aT.has(t));function uT(t){const e=[];return lT.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dp(4,13),y:dp(5,14)};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const cT=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Fr[u](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Fr[u](l,i)}),t},dT=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(d0);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=is(c);const h=e[l];let f;if($o(h)){const y=h.length,w=h[0]===null?1:0;c=h[w],d=is(c);for(let _=w;_<y&&h[_]!==null;_++)f?ld(is(h[_])===f):f=is(h[_])}else f=is(h);if(d!==f)if(up(d)&&up(f)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===I&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(o||(i=uT(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=cT(e,t,a);return i.length&&i.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),pa&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function hT(t,e,n,r){return oT(e)?dT(t,e,n,r):{target:e,transitionEnd:r}}const fT=(t,e,n,r)=>{const s=sT(t,e,r);return e=s.target,r=s.transitionEnd,hT(t,e,n,r)},Bu={current:null},h0={current:!1};function pT(){if(h0.current=!0,!!pa)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bu.current=t.matches;t.addListener(e),e()}else Bu.current=!1}function mT(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Be(i))t.addValue(s,i),zo(r)&&r.add(s);else if(Be(o))t.addValue(s,Br(i,{owner:t})),zo(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Br(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const hp=new WeakMap,f0=Object.keys(ei),gT=f0.length,fp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yT=Zc.length;class vT{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>W.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ga(n),this.isVariantNode=Yy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];a[d]!==void 0&&Be(h)&&(h.set(a[d],!1),zo(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,hp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),h0.current||pT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hp.delete(this.current),this.projection&&this.projection.unmount(),Vt(this.notifyUpdate),Vt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Zn.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&W.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<gT;l++){const u=f0[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:f}=ei[u];h&&(o=h),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Sr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fp.length;r++){const s=fp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=mT(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yT;r++){const s=Zc[r],i=this.props[s];(Zs(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Br(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ad(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Be(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class p0 extends vT{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=DE(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){NE(this,r,o);const a=fT(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function wT(t){return window.getComputedStyle(t)}class _T extends p0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Zn.has(n)){const r=hd(n);return r&&r.default||0}else{const r=wT(e),s=(tv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t0(e,n)}build(e,n,r,s){nd(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return od(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Be(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){av(e,n,r,s)}}class xT extends p0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zn.has(n)){const r=hd(n);return r&&r.default||0}return n=lv.has(n)?n:Yc(n),e.getAttribute(n)}measureInstanceViewportBox(){return oe()}scrapeMotionValuesFromProps(e,n){return cv(e,n)}build(e,n,r,s){sd(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){uv(e,n,r,s)}mount(e){this.isSVGTag=id(e.tagName),super.mount(e)}}const ST=(t,e)=>td(t)?new xT(e,{enableHardwareAcceleration:!1}):new _T(e,{enableHardwareAcceleration:!0}),bT={layout:{ProjectionNode:c0,MeasureLayout:r0}},kT={...QE,...gk,...tT,...bT},ne=E1((t,e)=>rk(t,e,kT,ST));function m0(){const t=S.useRef(!1);return Qc(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ET(){const t=m0(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>W.postRender(r),[r]),e]}class PT extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TT({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(PT,{isPresent:e,childRef:r,sizeRef:s},S.cloneElement(t,{ref:r}))}const yl=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=dv(CT),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return S.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(TT,{isPresent:n},t)),S.createElement(fa.Provider,{value:u},t)};function CT(){return new Map}function jT(t){return S.useEffect(()=>()=>t(),[])}const On=t=>t.key||"";function RT(t,e){t.forEach(n=>{const r=On(n);e.set(r,n)})}function OT(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Fu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useContext(ed).forceRender||ET()[0],l=m0(),u=OT(t);let c=u;const d=S.useRef(new Map).current,h=S.useRef(c),f=S.useRef(new Map).current,y=S.useRef(!0);if(Qc(()=>{y.current=!1,RT(u,f),h.current=c}),jT(()=>{y.current=!0,f.clear(),d.clear()}),y.current)return S.createElement(S.Fragment,null,c.map(p=>S.createElement(yl,{key:On(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},p)));c=[...c];const w=h.current.map(On),_=u.map(On),g=w.length;for(let p=0;p<g;p++){const m=w[p];_.indexOf(m)===-1&&!d.has(m)&&d.set(m,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((p,m)=>{if(_.indexOf(m)!==-1)return;const x=f.get(m);if(!x)return;const b=w.indexOf(m);let k=p;if(!k){const E=()=>{d.delete(m);const P=Array.from(f.keys()).filter(R=>!_.includes(R));if(P.forEach(R=>f.delete(R)),h.current=u.filter(R=>{const D=On(R);return D===m||P.includes(D)}),!d.size){if(l.current===!1)return;a(),r&&r()}};k=S.createElement(yl,{key:On(x),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:i,mode:o},x),d.set(m,k)}c.splice(b,0,k)}),c=c.map(p=>{const m=p.key;return d.has(m)?p:S.createElement(yl,{key:On(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),S.createElement(S.Fragment,null,d.size?c:c.map(p=>S.cloneElement(p)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>S.createElement("svg",{ref:c,...AT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${NT(t)}`,a].join(" "),...u},[...e.map(([d,h])=>S.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=J("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=J("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=J("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=J("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=J("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function HT(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(!1),{signIn:l}=Xn(),u=ui(),c=async d=>{d.preventDefault(),i(""),a(!0);try{await l(t,n),u("/dashboard")}catch(h){i(h.message||"Failed to login")}finally{a(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center p-4",children:v.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-primary-100",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block mb-4",children:v.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center text-white font-bold text-xl",children:"SH"})}),v.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"SchoolHub"}),v.jsx("p",{className:"text-neutral-500",children:"Sign in to your account"})]}),s&&v.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6 p-4 bg-danger-50 border border-danger-200 rounded-lg text-danger-700 text-sm",children:s}),v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),v.jsxs("div",{className:"relative",children:[v.jsx(x0,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:"you@example.com"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(_0,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:""})]})]}),v.jsx("button",{type:"submit",disabled:o,className:"w-full mt-6 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold py-2.5 rounded-lg transition duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:o?"Signing in...":v.jsxs(v.Fragment,{children:["Sign In",v.jsx(_a,{size:18})]})})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-neutral-600 text-sm",children:["Don't have an account?"," ",v.jsx("button",{onClick:()=>u("/signup"),className:"text-primary-600 font-semibold hover:text-primary-700",children:"Create one"})]})})]})})})}function qT(){const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState("student"),[l,u]=S.useState(""),[c,d]=S.useState(""),[h,f]=S.useState(""),[y,w]=S.useState(!1),{signUp:_}=Xn(),g=ui(),p=async m=>{m.preventDefault(),f(""),w(!0);try{await _(t,n,{name:s,role:o,class:l,subject:c}),g("/dashboard")}catch(x){f(x.message||"Failed to create account")}finally{w(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100 flex items-center justify-center p-4 py-8",children:v.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-primary-100",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-block mb-4",children:v.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center text-white font-bold text-xl",children:"SH"})}),v.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"SchoolHub"}),v.jsx("p",{className:"text-neutral-500",children:"Create your account"})]}),h&&v.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6 p-4 bg-danger-50 border border-danger-200 rounded-lg text-danger-700 text-sm",children:h}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Full Name"}),v.jsxs("div",{className:"relative",children:[v.jsx(zT,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"text",value:s,onChange:m=>i(m.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:"John Doe"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email Address"}),v.jsxs("div",{className:"relative",children:[v.jsx(x0,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:"you@example.com"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(_0,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),required:!0,className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Role"}),v.jsx("div",{className:"flex gap-3",children:["student","teacher"].map(m=>v.jsx("button",{type:"button",onClick:()=>a(m),className:`flex-1 py-2.5 rounded-lg font-medium transition ${o===m?"bg-primary-500 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),o==="student"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Class / Grade"}),v.jsx("input",{type:"text",value:l,onChange:m=>u(m.target.value),className:"w-full px-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:"10-A"})]}),o==="teacher"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Subject"}),v.jsxs("div",{className:"relative",children:[v.jsx(y0,{className:"absolute left-3 top-3.5 text-neutral-400",size:20}),v.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition",placeholder:"Mathematics"})]})]}),v.jsx("button",{type:"submit",disabled:y,className:"w-full mt-6 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white font-semibold py-2.5 rounded-lg transition duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:y?"Creating account...":v.jsxs(v.Fragment,{children:["Create Account",v.jsx(_a,{size:18})]})})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-neutral-600 text-sm",children:["Already have an account?"," ",v.jsx("button",{onClick:()=>g("/login"),className:"text-primary-600 font-semibold hover:text-primary-700",children:"Sign in"})]})})]})})})}function xa(){const[t,e]=S.useState(!1),{profile:n,signOut:r}=Xn(),s=ui(),i=ua(),o=async()=>{await r(),s("/login")},a=[{label:"Dashboard",path:"/student/dashboard",icon:pp},{label:"Homework",path:"/student/homework",icon:y0},{label:"Ask Doubt",path:"/student/doubt",icon:vd}],l=[{label:"Dashboard",path:"/teacher/dashboard",icon:pp},{label:"Analytics",path:"/teacher/analytics",icon:IT}],u=(n==null?void 0:n.role)==="teacher"?l:a;return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>e(!t),className:"fixed bottom-6 right-6 lg:hidden z-40 bg-primary-500 text-white p-3 rounded-full shadow-lg hover:bg-primary-600 transition",children:t?v.jsx(S0,{size:24}):v.jsx($T,{size:24})}),v.jsx(Fu,{children:t&&v.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 lg:hidden z-30",onClick:()=>e(!1)})}),v.jsxs(ne.aside,{initial:{x:-300},animate:{x:t?0:-300},transition:{duration:.3},className:"fixed left-0 top-0 h-screen w-64 bg-white border-r border-neutral-200 p-6 shadow-lg lg:static lg:translate-x-0 z-40",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center text-white font-bold",children:"SH"}),v.jsx("span",{className:"font-bold text-lg text-neutral-900",children:"SchoolHub"})]}),v.jsxs("div",{className:"mb-8 p-3 bg-primary-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-neutral-600",children:"Logged in as"}),v.jsx("p",{className:"font-semibold text-neutral-900",children:n==null?void 0:n.name}),v.jsx("p",{className:"text-xs text-primary-600 capitalize",children:n==null?void 0:n.role})]}),v.jsx("nav",{className:"space-y-2 mb-8",children:u.map(c=>{const d=c.icon,h=i.pathname===c.path;return v.jsxs("button",{onClick:()=>{s(c.path),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition ${h?"bg-primary-500 text-white":"text-neutral-700 hover:bg-neutral-100"}`,children:[v.jsx(d,{size:20}),c.label]},c.path)})}),v.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium text-neutral-700 hover:bg-danger-50 transition text-danger-600",children:[v.jsx(UT,{size:20}),"Logout"]})]})]})}function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function vt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Pe(t){vt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Wu(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var KT={};function GT(){return KT}function gp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function oo(t,e){vt(2,arguments);var n=Pe(t),r=Pe(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function JT(t,e){vt(2,arguments);var n=Pe(t),r=Pe(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function QT(t,e){return vt(2,arguments),Pe(t).getTime()-Pe(e).getTime()}var YT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},XT="trunc";function ZT(t){return YT[XT]}function eC(t){vt(1,arguments);var e=Pe(t);return e.setHours(23,59,59,999),e}function tC(t){vt(1,arguments);var e=Pe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function nC(t){vt(1,arguments);var e=Pe(t);return eC(e).getTime()===tC(e).getTime()}function rC(t,e){vt(2,arguments);var n=Pe(t),r=Pe(e),s=oo(n,r),i=Math.abs(JT(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var a=oo(n,r)===-s;nC(Pe(t))&&i===1&&oo(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function sC(t,e,n){vt(2,arguments);var r=QT(t,e)/1e3;return ZT()(r)}var iC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oC=function(e,n,r){var s,i=iC[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var aC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cC={date:wl({formats:aC,defaultWidth:"full"}),time:wl({formats:lC,defaultWidth:"full"}),dateTime:wl({formats:uC,defaultWidth:"full"})},dC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hC=function(e,n,r,s){return dC[e]};function as(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var fC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wC=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_C={ordinalNumber:wC,era:as({values:fC,defaultWidth:"wide"}),quarter:as({values:pC,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:as({values:mC,defaultWidth:"wide"}),day:as({values:gC,defaultWidth:"wide"}),dayPeriod:as({values:yC,defaultWidth:"wide",formattingValues:vC,defaultFormattingWidth:"wide"})};function ls(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?SC(a,function(d){return d.test(o)}):xC(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function xC(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function SC(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function bC(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var kC=/^(\d+)(th|st|nd|rd)?/i,EC=/\d+/i,PC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TC={any:[/^b/i,/^(a|c)/i]},CC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jC={any:[/1/i,/2/i,/3/i,/4/i]},RC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LC={ordinalNumber:bC({matchPattern:kC,parsePattern:EC,valueCallback:function(e){return parseInt(e,10)}}),era:ls({matchPatterns:PC,defaultMatchWidth:"wide",parsePatterns:TC,defaultParseWidth:"any"}),quarter:ls({matchPatterns:CC,defaultMatchWidth:"wide",parsePatterns:jC,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ls({matchPatterns:RC,defaultMatchWidth:"wide",parsePatterns:OC,defaultParseWidth:"any"}),day:ls({matchPatterns:AC,defaultMatchWidth:"wide",parsePatterns:NC,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:IC,defaultMatchWidth:"any",parsePatterns:DC,defaultParseWidth:"any"})},MC={code:"en-US",formatDistance:oC,formatLong:cC,formatRelative:hC,localize:_C,match:LC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b0(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function UC(t){return b0({},t)}var yp=1440,$C=2520,_l=43200,VC=86400;function BC(t,e,n){var r,s;vt(2,arguments);var i=GT(),o=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:i.locale)!==null&&r!==void 0?r:MC;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var a=oo(t,e);if(isNaN(a))throw new RangeError("Invalid time value");var l=b0(UC(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:a}),u,c;a>0?(u=Pe(e),c=Pe(t)):(u=Pe(t),c=Pe(e));var d=sC(c,u),h=(gp(c)-gp(u))/1e3,f=Math.round((d-h)/60),y;if(f<2)return n!=null&&n.includeSeconds?d<5?o.formatDistance("lessThanXSeconds",5,l):d<10?o.formatDistance("lessThanXSeconds",10,l):d<20?o.formatDistance("lessThanXSeconds",20,l):d<40?o.formatDistance("halfAMinute",0,l):d<60?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",1,l):f===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",f,l);if(f<45)return o.formatDistance("xMinutes",f,l);if(f<90)return o.formatDistance("aboutXHours",1,l);if(f<yp){var w=Math.round(f/60);return o.formatDistance("aboutXHours",w,l)}else{if(f<$C)return o.formatDistance("xDays",1,l);if(f<_l){var _=Math.round(f/yp);return o.formatDistance("xDays",_,l)}else if(f<VC)return y=Math.round(f/_l),o.formatDistance("aboutXMonths",y,l)}if(y=rC(c,u),y<12){var g=Math.round(f/_l);return o.formatDistance("xMonths",g,l)}else{var p=y%12,m=Math.floor(y/12);return p<3?o.formatDistance("aboutXYears",m,l):p<9?o.formatDistance("overXYears",m,l):o.formatDistance("almostXYears",m+1,l)}}function FC(t,e){return vt(1,arguments),BC(t,Date.now(),e)}function zC(){const{profile:t}=Xn(),e=ui(),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,a]=S.useState({pending:0,completed:0,overdue:0});S.useEffect(()=>{(async()=>{try{const{data:d}=await Oe.from("homework_tasks").select("*").order("deadline",{ascending:!0}).limit(5);if(r(d||[]),d){const h=new Date,f=d.filter(w=>new Date(w.deadline)>h).length,y=d.filter(w=>new Date(w.deadline)<h).length;a({pending:f,completed:0,overdue:y})}}catch(d){console.error("Error fetching homework:",d)}finally{i(!1)}})()},[]);const l=c=>{const d=new Date,h=Math.ceil((new Date(c)-d)/(1e3*60*60*24));return h<0?"border-danger-500 bg-danger-50":h<2?"border-warning-500 bg-warning-50":"border-success-500 bg-success-50"},u=c=>{const d=new Date,h=Math.ceil((new Date(c)-d)/(1e3*60*60*24));return h<0?{text:"Overdue",color:"text-danger-600"}:h===0?{text:"Today",color:"text-danger-600"}:h===1?{text:"1 day left",color:"text-warning-600"}:{text:`${h} days left`,color:"text-success-600"}};return v.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[v.jsx(xa,{}),v.jsx("div",{className:"flex-1 overflow-auto",children:v.jsx("div",{className:"max-w-6xl mx-auto p-6 lg:p-8",children:v.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("h1",{className:"text-4xl font-bold text-neutral-900 mb-2",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),v.jsxs("p",{className:"text-neutral-500",children:["Class ",t==null?void 0:t.class]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{label:"Pending Tasks",value:o.pending,icon:w0,color:"from-primary-500 to-primary-600"},{label:"Completed",value:o.completed,icon:zu,color:"from-success-500 to-success-600"},{label:"Overdue",value:o.overdue,icon:g0,color:"from-danger-500 to-danger-600"}].map((c,d)=>{const h=c.icon;return v.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:`bg-gradient-to-br ${c.color} text-white rounded-xl p-6 shadow-lg`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-white text-opacity-80 text-sm",children:c.label}),v.jsx("p",{className:"text-3xl font-bold mt-2",children:c.value})]}),v.jsx(h,{size:32,className:"text-white text-opacity-30"})]})},d)})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Upcoming Homework"}),v.jsxs("button",{onClick:()=>e("/student/homework"),className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center gap-2",children:["View All ",v.jsx(_a,{size:16})]})]}),s?v.jsx("div",{className:"flex items-center justify-center py-8",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):n.length===0?v.jsxs("div",{className:"text-center py-8",children:[v.jsx(zu,{className:"mx-auto mb-3 text-success-500",size:32}),v.jsx("p",{className:"text-neutral-500",children:"No pending homework!"})]}):v.jsx("div",{className:"space-y-3",children:n.map((c,d)=>{const h=u(c.deadline);return v.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},className:`border-l-4 rounded-lg p-4 ${l(c.deadline)}`,children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:c.title}),v.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:c.subject}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-white rounded",children:c.category}),v.jsx("span",{className:`text-xs font-semibold ${h.color}`,children:h.text})]})]}),v.jsx(v0,{size:18,className:"text-neutral-400 flex-shrink-0"})]})},c.id)})})]})}),v.jsxs("div",{children:[v.jsxs(ne.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>e("/student/doubt"),className:"w-full bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-xl p-6 shadow-lg hover:shadow-xl transition group mb-6",children:[v.jsx(vd,{size:32,className:"mx-auto mb-3 group-hover:scale-110 transition"}),v.jsx("p",{className:"font-bold text-lg",children:"Ask a Doubt"}),v.jsx("p",{className:"text-sm text-white text-opacity-80 mt-2",children:"Get instant help from AI"})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6",children:[v.jsx("h3",{className:"font-bold text-neutral-900 mb-4",children:"Quick Tips"}),v.jsxs("ul",{className:"space-y-3 text-sm text-neutral-600",children:[v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Submit homework before deadline"})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Ask doubts anytime with AI"})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Check notifications regularly"})]})]})]})]})]})]})})})]})}function WC(){const{profile:t}=Xn(),[e,n]=S.useState({homework:0,students:0,doubts:0,notes:0}),[r,s]=S.useState(!0),[i,o]=S.useState(!1),[a,l]=S.useState([]);return S.useEffect(()=>{const u=async()=>{var c;try{const[d,h,f]=await Promise.all([Oe.from("homework_tasks").select("*",{count:"exact"}).eq("teacher_id",t==null?void 0:t.id),Oe.from("doubt_questions").select("*",{count:"exact"}).eq("subject",t==null?void 0:t.subject),Oe.from("class_notes").select("*",{count:"exact"}).eq("teacher_id",t==null?void 0:t.id)]);n({homework:d.count||0,students:0,doubts:h.count||0,notes:f.count||0}),l(((c=d.data)==null?void 0:c.slice(0,5))||[])}catch(d){console.error("Error fetching stats:",d)}finally{s(!1)}};t!=null&&t.id&&u()},[t]),v.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[v.jsx(xa,{}),v.jsx("div",{className:"flex-1 overflow-auto",children:v.jsx("div",{className:"max-w-6xl mx-auto p-6 lg:p-8",children:v.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("h1",{className:"text-4xl font-bold text-neutral-900 mb-2",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),v.jsxs("p",{className:"text-neutral-500",children:["Teaching ",t==null?void 0:t.subject]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{label:"Homework Created",value:e.homework,icon:vl,color:"from-primary-500 to-primary-600"},{label:"Students",value:e.students,icon:WT,color:"from-secondary-500 to-secondary-600"},{label:"Doubts to Review",value:e.doubts,icon:vd,color:"from-warning-500 to-warning-600"},{label:"Class Notes",value:e.notes,icon:FT,color:"from-success-500 to-success-600"}].map((u,c)=>{const d=u.icon;return v.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`bg-gradient-to-br ${u.color} text-white rounded-xl p-6 shadow-lg`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-white text-opacity-80 text-sm",children:u.label}),v.jsx("p",{className:"text-3xl font-bold mt-2",children:u.value})]}),v.jsx(d,{size:32,className:"text-white text-opacity-30"})]})},c)})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsx("div",{className:"lg:col-span-2",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Recent Assignments"}),v.jsxs("button",{onClick:()=>o(!0),className:"bg-primary-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-600 transition flex items-center gap-2",children:[v.jsx(mp,{size:18}),"New Assignment"]})]}),r?v.jsx("div",{className:"flex items-center justify-center py-8",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):a.length===0?v.jsxs("div",{className:"text-center py-8",children:[v.jsx(vl,{className:"mx-auto mb-3 text-neutral-300",size:32}),v.jsx("p",{className:"text-neutral-500",children:"No assignments yet"}),v.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-primary-600 font-medium hover:text-primary-700",children:"Create your first assignment"})]}):v.jsx("div",{className:"space-y-3",children:a.map((u,c)=>v.jsx(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},className:"border-l-4 border-primary-500 bg-primary-50 rounded-lg p-4",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:u.title}),v.jsx("p",{className:"text-sm text-neutral-600",children:u.subject}),v.jsx("span",{className:"text-xs font-medium text-primary-600 mt-2 inline-block",children:u.category})]}),v.jsx(_a,{size:18,className:"text-neutral-400 flex-shrink-0"})]})},u.id))})]})}),v.jsxs("div",{children:[v.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6 mb-6",children:[v.jsx("h3",{className:"font-bold text-neutral-900 mb-4",children:"Quick Actions"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center gap-3 px-4 py-3 bg-primary-50 hover:bg-primary-100 rounded-lg font-medium text-primary-700 transition",children:[v.jsx(mp,{size:18}),"Create Assignment"]}),v.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-neutral-50 hover:bg-neutral-100 rounded-lg font-medium text-neutral-700 transition",children:[v.jsx(vl,{size:18}),"Upload Notes"]})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6",children:[v.jsx("h3",{className:"font-bold text-neutral-900 mb-4",children:"Tips"}),v.jsxs("ul",{className:"space-y-3 text-sm text-neutral-600",children:[v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Create clear deadlines"})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Review student doubts daily"})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-primary-500 font-bold",children:""}),v.jsx("span",{children:"Upload class notes regularly"})]})]})]})]})]})]})})})]})}function HC(){const{user:t,profile:e}=Xn(),[n,r]=S.useState([]),[s,i]=S.useState(""),[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState(!1),h=S.useRef(null),f=S.useRef(null),y=()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{y()},[n]);const w=g=>{var m;const p=(m=g.target.files)==null?void 0:m[0];if(p){const x=new FileReader;x.onload=b=>{var k;u((k=b.target)==null?void 0:k.result)},x.readAsDataURL(p)}},_=async()=>{if(!s.trim()&&!l)return;const g={id:Date.now(),text:s,image:l,sender:"user",timestamp:new Date};r(p=>[...p,g]),i(""),u(null),a(!0);try{const{error:p}=await Oe.from("doubt_questions").insert([{student_id:t==null?void 0:t.id,question_text:s,question_image_url:l,subject:e==null?void 0:e.class,is_anonymous:c,ai_answer:"Processing your question..."}]);if(p)throw p;const m={id:Date.now()+1,text:"Great question! This appears to be about "+s.substring(0,50)+"... Our AI system is analyzing this and will provide detailed explanations, key points, and relevant resources soon.",references:[{title:"Khan Academy",url:"#"},{title:"Related Videos",url:"#"}],sender:"ai",timestamp:new Date};r(x=>[...x,m])}catch(p){console.error("Error saving question:",p);const m={id:Date.now()+1,text:"Sorry, there was an error processing your question. Please try again.",sender:"ai",timestamp:new Date};r(x=>[...x,m])}finally{a(!1)}};return v.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[v.jsx(xa,{}),v.jsxs("div",{className:"flex-1 flex flex-col",children:[v.jsx("div",{className:"flex-1 overflow-auto p-6 lg:p-8",children:v.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-3xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"Ask Your Doubt"}),v.jsx("p",{className:"text-neutral-500",children:"Get instant AI-powered explanations"})]}),n.length===0?v.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[v.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("span",{className:"text-3xl",children:""})}),v.jsx("p",{className:"text-neutral-500 text-lg",children:"Ask any question about your studies. You can type, upload an image, or describe your doubt."}),v.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:["Explain quadratic equations","How does photosynthesis work?","Help with this math problem"].map((g,p)=>v.jsxs("button",{onClick:()=>i(g),className:"p-4 rounded-lg border border-primary-200 hover:bg-primary-50 transition text-neutral-700 text-sm",children:['"',g,'"']},p))})]}):v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsx(Fu,{children:n.map((g,p)=>v.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${g.sender==="user"?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:`max-w-xs lg:max-w-md rounded-lg p-4 ${g.sender==="user"?"bg-primary-500 text-white":"bg-white border border-neutral-200 text-neutral-900"}`,children:[g.image&&v.jsx("img",{src:g.image,alt:"uploaded",className:"rounded mb-2 max-h-32 object-cover"}),v.jsx("p",{className:"text-sm leading-relaxed",children:g.text}),g.references&&v.jsxs("div",{className:"mt-3 space-y-2",children:[v.jsx("p",{className:"text-xs font-semibold opacity-80",children:"References:"}),g.references.map((m,x)=>v.jsx("a",{href:m.url,className:"block text-xs underline hover:opacity-80",children:m.title},x))]}),v.jsx("span",{className:"text-xs opacity-70 mt-2 block",children:g.timestamp.toLocaleTimeString()})]})},g.id))}),v.jsx("div",{ref:f})]})]})}),v.jsx("div",{className:"border-t border-neutral-200 bg-white p-4 lg:p-6",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx(Fu,{children:l&&v.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mb-4 relative inline-block",children:[v.jsx("img",{src:l,alt:"preview",className:"h-24 rounded-lg border border-primary-200 object-cover"}),v.jsx("button",{onClick:()=>u(null),className:"absolute -top-2 -right-2 bg-danger-500 text-white rounded-full p-1 hover:bg-danger-600 transition",children:v.jsx(S0,{size:16})})]})}),v.jsxs("div",{className:"flex gap-3 mb-3",children:[v.jsx("input",{type:"file",ref:h,onChange:w,accept:"image/*",className:"hidden"}),v.jsx("button",{onClick:()=>d(!c),className:`px-4 py-2 rounded-lg font-medium transition ${c?"bg-primary-500 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:c?"Anonymous":"Ask Publicly"})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>{var g;return(g=h.current)==null?void 0:g.click()},className:"p-3 bg-neutral-100 hover:bg-neutral-200 rounded-lg transition text-neutral-600",title:"Upload image",children:v.jsx(LT,{size:20})}),v.jsx("button",{className:"p-3 bg-neutral-100 hover:bg-neutral-200 rounded-lg transition text-neutral-600",title:"Voice input",children:v.jsx(VT,{size:20})}),v.jsx("input",{type:"text",value:s,onChange:g=>i(g.target.value),onKeyPress:g=>g.key==="Enter"&&_(),placeholder:"Ask your question...",className:"flex-1 px-4 py-3 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition"}),v.jsx("button",{onClick:_,disabled:o||!s.trim()&&!l,className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 disabled:opacity-50 text-white rounded-lg font-medium transition flex items-center gap-2",children:o?v.jsx(MT,{className:"animate-spin",size:20}):v.jsx(BT,{size:20})})]})]})})]})]})}function qC(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState("all");S.useEffect(()=>{(async()=>{try{const{data:u}=await Oe.from("homework_tasks").select("*").order("deadline",{ascending:!0});e(u||[])}catch(u){console.error("Error fetching homework:",u)}finally{r(!1)}})()},[]);const o=t.filter(l=>s==="all"?!0:s==="overdue"?new Date(l.deadline)<new Date:s==="pending"?new Date(l.deadline)>new Date:!0),a=l=>{const u=new Date;return new Date(l)<u?v.jsx(g0,{className:"text-danger-500",size:20}):v.jsx(w0,{className:"text-warning-500",size:20})};return v.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-primary-50 via-white to-primary-100",children:[v.jsx(xa,{}),v.jsx("div",{className:"flex-1 overflow-auto",children:v.jsx("div",{className:"max-w-5xl mx-auto p-6 lg:p-8",children:v.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-neutral-900 mb-2",children:"All Assignments"}),v.jsx("p",{className:"text-neutral-500",children:"Track and manage your homework"})]}),v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-100 p-6 mb-6",children:v.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[v.jsx(DT,{size:20,className:"text-neutral-400"}),["all","pending","overdue"].map(l=>v.jsx("button",{onClick:()=>i(l),className:`px-4 py-2 rounded-lg font-medium transition ${s===l?"bg-primary-500 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:l.charAt(0).toUpperCase()+l.slice(1)},l)),v.jsxs("span",{className:"text-sm text-neutral-500 ml-auto",children:[o.length," items"]})]})}),n?v.jsx("div",{className:"flex items-center justify-center py-12",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):o.length===0?v.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-neutral-100",children:[v.jsx(zu,{className:"mx-auto mb-3 text-success-500",size:32}),v.jsx("p",{className:"text-neutral-500",children:"No assignments to show"})]}):v.jsx("div",{className:"grid gap-4",children:o.map((l,u)=>{const c=Math.ceil((new Date(l.deadline)-new Date)/864e5),d=c<0;return v.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},className:`bg-white rounded-xl shadow-sm border-l-4 p-6 hover:shadow-md transition ${d?"border-l-danger-500 bg-danger-50":"border-l-primary-500"}`,children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:l.title}),l.description&&v.jsx("p",{className:"text-neutral-600 text-sm mb-3",children:l.description}),v.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[v.jsx("span",{className:"text-xs font-medium px-3 py-1 bg-primary-100 text-primary-700 rounded-full",children:l.subject}),v.jsx("span",{className:"text-xs font-medium px-3 py-1 bg-neutral-100 text-neutral-700 rounded-full",children:l.category}),l.priority==="high"&&v.jsx("span",{className:"text-xs font-medium px-3 py-1 bg-danger-100 text-danger-700 rounded-full",children:"High Priority"})]})]}),a(l.deadline)]}),v.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-neutral-200",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx(v0,{size:16,className:"text-neutral-400"}),v.jsxs("span",{className:"text-neutral-600",children:["Due ",FC(new Date(l.deadline),{addSuffix:!0})]})]}),v.jsx("span",{className:`text-sm font-semibold ${d?"text-danger-600":"text-primary-600"}`,children:d?`${Math.abs(c)} days overdue`:`${c} days left`})]})]},l.id)})})]})})})]})}function KC(){return v.jsx(m1,{children:v.jsxs(Wx,{children:[v.jsx(Pt,{path:"/login",element:v.jsx(HT,{})}),v.jsx(Pt,{path:"/signup",element:v.jsx(qT,{})}),v.jsx(Pt,{path:"/dashboard",element:v.jsx(ss,{children:v.jsx(GC,{})})}),v.jsx(Pt,{path:"/student/dashboard",element:v.jsx(ss,{requiredRole:"student",children:v.jsx(zC,{})})}),v.jsx(Pt,{path:"/student/homework",element:v.jsx(ss,{requiredRole:"student",children:v.jsx(qC,{})})}),v.jsx(Pt,{path:"/student/doubt",element:v.jsx(ss,{requiredRole:"student",children:v.jsx(HC,{})})}),v.jsx(Pt,{path:"/teacher/dashboard",element:v.jsx(ss,{requiredRole:"teacher",children:v.jsx(WC,{})})}),v.jsx(Pt,{path:"/",element:v.jsx(Js,{to:"/dashboard",replace:!0})})]})})}const GC=()=>{const{profile:t}=require("./contexts/AuthContext").useAuth();return require("react-router-dom").useNavigate(),(t==null?void 0:t.role)==="student"?v.jsx(Js,{to:"/student/dashboard",replace:!0}):(t==null?void 0:t.role)==="teacher"?v.jsx(Js,{to:"/teacher/dashboard",replace:!0}):v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-neutral-500",children:"Loading your dashboard..."})})})};xl.createRoot(document.getElementById("root")).render(v.jsx(qo.StrictMode,{children:v.jsx(Kx,{children:v.jsx(KC,{})})}));
